{"ast":null,"code":"import _objectSpread from\"C:/Users/Pipe/Desktop/REQUERIMIENTO_LUIS/REQUERIMIENTO_LUIS/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import LoadingSpinner from'../components/LoadingSpinner';import{Search as SearchIcon,Filter,Car,Calendar,User,FileText,Eye,Download,X,AlertTriangle}from'lucide-react';import axios from'axios';import{toast}from'react-hot-toast';import{format}from'date-fns';import{es}from'date-fns/locale';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Search=()=>{const[searchType,setSearchType]=useState('inspections');// 'inspections', 'vehicles', 'dates'\nconst[loading,setLoading]=useState(false);const[results,setResults]=useState([]);const[filters,setFilters]=useState({// Filtros generales\nnumeroInterno:'',placa:'',fechaInicio:'',fechaFin:'',// Filtros específicos para inspecciones\nusuario:'',conObservaciones:'',// Filtros específicos para fechas de vencimiento\ntipo:'',// RTM, Revisión Preventiva, SOAT\nestado:'',// vigente, vencido, próximo a vencer\n// Filtros específicos para vehículos\nmarca:'',tipoVehiculo:'',activo:''});const[showAdvancedFilters,setShowAdvancedFilters]=useState(false);const[selectedItem,setSelectedItem]=useState(null);const[showModal,setShowModal]=useState(false);const[pagination,setPagination]=useState({page:1,limit:10,total:0,totalPages:0});const hasActiveFilters=useCallback(()=>{return Object.values(filters).some(value=>value!=='');},[filters]);const performSearch=useCallback(async()=>{if(!hasActiveFilters()){toast.error('Por favor, ingresa al menos un criterio de búsqueda');return;}try{setLoading(true);const token=localStorage.getItem('token');const config={headers:{Authorization:\"Bearer \".concat(token)}};// Construir parámetros de búsqueda\nconst searchParams=new URLSearchParams(_objectSpread({page:pagination.page,limit:pagination.limit},Object.fromEntries(Object.entries(filters).filter(_ref=>{let[_,v]=_ref;return v;}))));let endpoint='';switch(searchType){case'inspections':endpoint=\"/api/inspections/search?\".concat(searchParams);break;case'vehicles':endpoint=\"/api/vehicles/search?\".concat(searchParams);break;case'dates':endpoint=\"/api/dates/search?\".concat(searchParams);break;default:endpoint=\"/api/inspections/search?\".concat(searchParams);break;}const response=await axios.get(endpoint,config);setResults(response.data.results||response.data.inspections||response.data.vehicles||response.data.dates||[]);setPagination(prev=>_objectSpread(_objectSpread({},prev),{},{total:response.data.total||0,totalPages:response.data.totalPages||0}));}catch(error){toast.error('Error al realizar la búsqueda');setResults([]);}finally{setLoading(false);}},[hasActiveFilters,searchType,pagination.page,pagination.limit,filters]);useEffect(()=>{if(hasActiveFilters()){performSearch();}},[hasActiveFilters,performSearch]);const handleFilterChange=(field,value)=>{setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value}));setPagination(prev=>_objectSpread(_objectSpread({},prev),{},{page:1}));};const clearFilters=()=>{setFilters({numeroInterno:'',placa:'',fechaInicio:'',fechaFin:'',usuario:'',conObservaciones:'',tipo:'',estado:'',marca:'',tipoVehiculo:'',activo:''});setResults([]);setPagination(prev=>_objectSpread(_objectSpread({},prev),{},{page:1,total:0,totalPages:0}));};const handleViewDetails=item=>{setSelectedItem(item);setShowModal(true);};const exportResults=async()=>{try{const token=localStorage.getItem('token');const config={headers:{Authorization:\"Bearer \".concat(token)},responseType:'blob'};const searchParams=new URLSearchParams(_objectSpread(_objectSpread({},Object.fromEntries(Object.entries(filters).filter(_ref2=>{let[_,v]=_ref2;return v;}))),{},{export:'true'}));let endpoint='';switch(searchType){case'inspections':endpoint=\"/api/inspections/export?\".concat(searchParams);break;case'vehicles':endpoint=\"/api/vehicles/export?\".concat(searchParams);break;case'dates':endpoint=\"/api/dates/export?\".concat(searchParams);break;default:endpoint=\"/api/inspections/export?\".concat(searchParams);break;}const response=await axios.get(endpoint,config);// Crear y descargar archivo\nconst blob=new Blob([response.data],{type:'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'});const url=window.URL.createObjectURL(blob);const link=document.createElement('a');link.href=url;link.download=\"\".concat(searchType,\"_\").concat(format(new Date(),'yyyy-MM-dd'),\".xlsx\");document.body.appendChild(link);link.click();document.body.removeChild(link);window.URL.revokeObjectURL(url);toast.success('Archivo exportado exitosamente');}catch(error){toast.error('Error al exportar resultados');}};const renderSearchTypeSelector=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"search-type-selector\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setSearchType('inspections'),className:\"type-btn \".concat(searchType==='inspections'?'active':''),children:[/*#__PURE__*/_jsx(FileText,{size:20}),\"Inspecciones\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setSearchType('vehicles'),className:\"type-btn \".concat(searchType==='vehicles'?'active':''),children:[/*#__PURE__*/_jsx(Car,{size:20}),\"Veh\\xEDculos\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setSearchType('dates'),className:\"type-btn \".concat(searchType==='dates'?'active':''),children:[/*#__PURE__*/_jsx(Calendar,{size:20}),\"Fechas de Vencimiento\"]})]});const renderFilters=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"filters-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filters-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Filtros de B\\xFAsqueda\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAdvancedFilters(!showAdvancedFilters),className:\"btn btn-outline btn-sm\",children:[/*#__PURE__*/_jsx(Filter,{size:16}),showAdvancedFilters?'Filtros Básicos':'Filtros Avanzados']}),hasActiveFilters()&&/*#__PURE__*/_jsxs(\"button\",{onClick:clearFilters,className:\"btn btn-outline btn-sm\",children:[/*#__PURE__*/_jsx(X,{size:16}),\"Limpiar\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filters-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"N\\xFAmero Interno\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Buscar por n\\xFAmero interno\",value:filters.numeroInterno,onChange:e=>handleFilterChange('numeroInterno',e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Placa\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Buscar por placa\",value:filters.placa,onChange:e=>handleFilterChange('placa',e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Fecha Inicio\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"form-control\",value:filters.fechaInicio,onChange:e=>handleFilterChange('fechaInicio',e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Fecha Fin\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"form-control\",value:filters.fechaFin,onChange:e=>handleFilterChange('fechaFin',e.target.value)})]}),showAdvancedFilters&&/*#__PURE__*/_jsxs(_Fragment,{children:[searchType==='inspections'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Usuario\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Buscar por usuario\",value:filters.usuario,onChange:e=>handleFilterChange('usuario',e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Con Observaciones\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",value:filters.conObservaciones,onChange:e=>handleFilterChange('conObservaciones',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Todas\"}),/*#__PURE__*/_jsx(\"option\",{value:\"true\",children:\"Con observaciones\"}),/*#__PURE__*/_jsx(\"option\",{value:\"false\",children:\"Sin observaciones\"})]})]})]}),searchType==='vehicles'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Marca\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Buscar por marca\",value:filters.marca,onChange:e=>handleFilterChange('marca',e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Tipo de Veh\\xEDculo\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",value:filters.tipoVehiculo,onChange:e=>handleFilterChange('tipoVehiculo',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Todos\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Autom\\xF3vil\",children:\"Autom\\xF3vil\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Bus\",children:\"Bus\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Otro\",children:\"Otro\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Estado\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",value:filters.activo,onChange:e=>handleFilterChange('activo',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Todos\"}),/*#__PURE__*/_jsx(\"option\",{value:\"true\",children:\"Activo\"}),/*#__PURE__*/_jsx(\"option\",{value:\"false\",children:\"Inactivo\"})]})]})]}),searchType==='dates'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Tipo de Fecha\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",value:filters.tipo,onChange:e=>handleFilterChange('tipo',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Todos\"}),/*#__PURE__*/_jsx(\"option\",{value:\"RTM\",children:\"RTM\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Revisi\\xF3n Preventiva\",children:\"Revisi\\xF3n Preventiva\"}),/*#__PURE__*/_jsx(\"option\",{value:\"SOAT\",children:\"SOAT\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Estado\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",value:filters.estado,onChange:e=>handleFilterChange('estado',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Todos\"}),/*#__PURE__*/_jsx(\"option\",{value:\"vigente\",children:\"Vigente\"}),/*#__PURE__*/_jsx(\"option\",{value:\"vencido\",children:\"Vencido\"}),/*#__PURE__*/_jsx(\"option\",{value:\"proximo\",children:\"Pr\\xF3ximo a vencer\"})]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:performSearch,className:\"btn btn-primary\",disabled:loading||!hasActiveFilters(),children:[/*#__PURE__*/_jsx(SearchIcon,{size:16}),loading?'Buscando...':'Buscar']}),results.length>0&&/*#__PURE__*/_jsxs(\"button\",{onClick:exportResults,className:\"btn btn-outline\",children:[/*#__PURE__*/_jsx(Download,{size:16}),\"Exportar\"]})]})]});const renderResults=()=>{if(loading){return/*#__PURE__*/_jsx(LoadingSpinner,{message:\"Realizando b\\xFAsqueda...\"});}if(!hasActiveFilters()){return/*#__PURE__*/_jsxs(\"div\",{className:\"search-placeholder\",children:[/*#__PURE__*/_jsx(SearchIcon,{size:64,color:\"#e9ecef\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"B\\xFAsqueda Avanzada\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Utiliza los filtros para encontrar la informaci\\xF3n que necesitas\"})]});}if(results.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"no-results\",children:[/*#__PURE__*/_jsx(AlertTriangle,{size:64,color:\"#e9ecef\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"No se encontraron resultados\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Intenta ajustar los criterios de b\\xFAsqueda\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"results-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"results-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Resultados de B\\xFAsqueda\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"results-count\",children:[pagination.total,\" resultado\",pagination.total!==1?'s':'',\" encontrado\",pagination.total!==1?'s':'']})]}),/*#__PURE__*/_jsx(\"div\",{className:\"results-grid\",children:results.map((item,index)=>{var _item$usuario,_item$kilometraje,_item$vehiculo,_item$vehiculo2;return/*#__PURE__*/_jsxs(\"div\",{className:\"result-card\",children:[searchType==='inspections'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-icon\",children:/*#__PURE__*/_jsx(FileText,{size:24})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-title\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Inspecci\\xF3n - \",item.placa]}),/*#__PURE__*/_jsx(\"span\",{className:\"card-subtitle\",children:item.numeroInterno})]}),/*#__PURE__*/_jsx(\"div\",{className:\"status \".concat(item.detallesEncontrados?'warning':'success'),children:item.detallesEncontrados?'Con observaciones':'Sin observaciones'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(Calendar,{size:16}),/*#__PURE__*/_jsx(\"span\",{children:safeFormatDate(item.fechaInspeccion,'dd/MM/yyyy')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(User,{size:16}),/*#__PURE__*/_jsx(\"span\",{children:((_item$usuario=item.usuario)===null||_item$usuario===void 0?void 0:_item$usuario.nombres)||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(Car,{size:16}),/*#__PURE__*/_jsxs(\"span\",{children:[item.marca,\" \",item.modelo,\" - \",(_item$kilometraje=item.kilometraje)===null||_item$kilometraje===void 0?void 0:_item$kilometraje.toLocaleString(),\" km\"]})]})]})]}),searchType==='vehicles'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-icon\",children:/*#__PURE__*/_jsx(Car,{size:24})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-title\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[item.placa,\" - \",item.marca]}),/*#__PURE__*/_jsx(\"span\",{className:\"card-subtitle\",children:item.numeroInterno})]}),/*#__PURE__*/_jsx(\"div\",{className:\"status \".concat(item.activo?'success':'danger'),children:item.activo?'Activo':'Inactivo'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"info-row\",children:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tipo:\"}),\" \",item.tipo]})}),/*#__PURE__*/_jsx(\"div\",{className:\"info-row\",children:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Modelo:\"}),\" \",item.modelo]})}),/*#__PURE__*/_jsx(\"div\",{className:\"info-row\",children:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"A\\xF1o:\"}),\" \",item.año]})})]})]}),searchType==='dates'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-icon\",children:/*#__PURE__*/_jsx(Calendar,{size:24})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-title\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[item.tipo,\" - \",item.placa]}),/*#__PURE__*/_jsx(\"span\",{className:\"card-subtitle\",children:item.numeroInterno})]}),(()=>{const fv=toValidDate(item.fechaVencimiento);const now=new Date();const nextWeek=new Date(Date.now()+7*24*60*60*1000);const statusClass=!fv?'neutral':fv<now?'danger':fv<=nextWeek?'warning':'success';const statusText=!fv?'Sin fecha':fv<now?'Vencido':fv<=nextWeek?'Próximo a vencer':'Vigente';return/*#__PURE__*/_jsx(\"div\",{className:\"status \".concat(statusClass),children:statusText});})()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(Calendar,{size:16}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Vence:\"}),\" \",safeFormatDate(item.fechaVencimiento,'dd/MM/yyyy')]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(Car,{size:16}),/*#__PURE__*/_jsxs(\"span\",{children:[(_item$vehiculo=item.vehiculo)===null||_item$vehiculo===void 0?void 0:_item$vehiculo.marca,\" \",(_item$vehiculo2=item.vehiculo)===null||_item$vehiculo2===void 0?void 0:_item$vehiculo2.modelo]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-actions\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleViewDetails(item),className:\"btn btn-outline btn-sm\",children:[/*#__PURE__*/_jsx(Eye,{size:16}),\"Ver Detalles\"]})})]},item._id||index);})}),pagination.totalPages>1&&/*#__PURE__*/_jsxs(\"div\",{className:\"pagination\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pagination-info\",children:[\"Mostrando \",(pagination.page-1)*pagination.limit+1,\" - \",Math.min(pagination.page*pagination.limit,pagination.total),\" de \",pagination.total,\" resultados\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pagination-controls\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPagination(prev=>_objectSpread(_objectSpread({},prev),{},{page:prev.page-1})),disabled:pagination.page===1,className:\"btn btn-outline btn-sm\",children:\"Anterior\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"page-info\",children:[\"P\\xE1gina \",pagination.page,\" de \",pagination.totalPages]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPagination(prev=>_objectSpread(_objectSpread({},prev),{},{page:prev.page+1})),disabled:pagination.page===pagination.totalPages,className:\"btn btn-outline btn-sm\",children:\"Siguiente\"})]})]})]});};return/*#__PURE__*/_jsxs(\"div\",{className:\"search-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"page-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"header-content\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"page-title\",children:[/*#__PURE__*/_jsx(SearchIcon,{size:28}),\"B\\xFAsqueda Avanzada\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"page-subtitle\",children:\"Encuentra informaci\\xF3n espec\\xEDfica usando filtros personalizados\"})]})}),renderSearchTypeSelector(),renderFilters(),renderResults()]}),showModal&&selectedItem&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"modal-title\",children:\"Detalles del Resultado\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowModal(false),className:\"btn-close\",children:/*#__PURE__*/_jsx(X,{size:20})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsx(\"pre\",{className:\"details-content\",children:JSON.stringify(selectedItem,null,2)})})]})}),/*#__PURE__*/_jsx(\"style\",{jsx:\"true\",children:\"\\n          .search-page {\\n            min-height: calc(100vh - 70px);\\n            background-color: #f8f9fa;\\n            padding: 32px 0;\\n          }\\n\\n          .container {\\n            max-width: 1200px;\\n            margin: 0 auto;\\n            padding: 0 20px;\\n          }\\n\\n          .page-header {\\n            margin-bottom: 32px;\\n            padding: 24px;\\n            background: white;\\n            border-radius: 16px;\\n            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\\n          }\\n\\n          .page-title {\\n            display: flex;\\n            align-items: center;\\n            gap: 12px;\\n            font-size: 2rem;\\n            font-weight: 700;\\n            color: #333;\\n            margin-bottom: 8px;\\n          }\\n\\n          .page-subtitle {\\n            color: #6c757d;\\n            margin: 0;\\n          }\\n\\n          .search-type-selector {\\n            display: flex;\\n            gap: 8px;\\n            margin-bottom: 24px;\\n            background: white;\\n            padding: 8px;\\n            border-radius: 12px;\\n            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\\n          }\\n\\n          .type-btn {\\n            display: flex;\\n            align-items: center;\\n            gap: 8px;\\n            padding: 12px 20px;\\n            border: none;\\n            background: transparent;\\n            border-radius: 8px;\\n            cursor: pointer;\\n            font-weight: 500;\\n            color: #6c757d;\\n            transition: all 0.2s ease;\\n          }\\n\\n          .type-btn:hover {\\n            background-color: #f8f9fa;\\n            color: #007bff;\\n          }\\n\\n          .type-btn.active {\\n            background-color: #007bff;\\n            color: white;\\n          }\\n\\n          .filters-section {\\n            background: white;\\n            border-radius: 16px;\\n            padding: 24px;\\n            margin-bottom: 24px;\\n            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\\n          }\\n\\n          .filters-header {\\n            display: flex;\\n            justify-content: space-between;\\n            align-items: center;\\n            margin-bottom: 20px;\\n          }\\n\\n          .filters-header h3 {\\n            color: #333;\\n            margin: 0;\\n            font-size: 1.2rem;\\n            font-weight: 600;\\n          }\\n\\n          .filter-actions {\\n            display: flex;\\n            gap: 8px;\\n          }\\n\\n          .filters-grid {\\n            display: grid;\\n            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\\n            gap: 16px;\\n            margin-bottom: 24px;\\n          }\\n\\n          .filter-group {\\n            display: flex;\\n            flex-direction: column;\\n            gap: 8px;\\n          }\\n\\n          .filter-group label {\\n            font-weight: 600;\\n            color: #333;\\n            font-size: 14px;\\n          }\\n\\n          .search-actions {\\n            display: flex;\\n            gap: 12px;\\n            justify-content: center;\\n          }\\n\\n          .search-placeholder,\\n          .no-results {\\n            text-align: center;\\n            padding: 80px 20px;\\n            color: #6c757d;\\n            background: white;\\n            border-radius: 16px;\\n            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\\n          }\\n\\n          .search-placeholder h3,\\n          .no-results h3 {\\n            margin: 24px 0 16px;\\n            color: #333;\\n          }\\n\\n          .results-section {\\n            background: white;\\n            border-radius: 16px;\\n            padding: 24px;\\n            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\\n          }\\n\\n          .results-header {\\n            display: flex;\\n            justify-content: space-between;\\n            align-items: center;\\n            margin-bottom: 24px;\\n            padding-bottom: 16px;\\n            border-bottom: 1px solid #e9ecef;\\n          }\\n\\n          .results-header h3 {\\n            color: #333;\\n            margin: 0;\\n            font-size: 1.2rem;\\n            font-weight: 600;\\n          }\\n\\n          .results-count {\\n            color: #6c757d;\\n            font-size: 14px;\\n          }\\n\\n          .results-grid {\\n            display: grid;\\n            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\\n            gap: 20px;\\n            margin-bottom: 24px;\\n          }\\n\\n          .result-card {\\n            border: 1px solid #e9ecef;\\n            border-radius: 12px;\\n            overflow: hidden;\\n            transition: all 0.2s ease;\\n          }\\n\\n          .result-card:hover {\\n            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\\n            transform: translateY(-2px);\\n          }\\n\\n          .card-header {\\n            display: flex;\\n            align-items: center;\\n            gap: 12px;\\n            padding: 16px;\\n            background-color: #f8f9fa;\\n            border-bottom: 1px solid #e9ecef;\\n          }\\n\\n          .card-icon {\\n            color: #007bff;\\n          }\\n\\n          .card-title {\\n            flex: 1;\\n          }\\n\\n          .card-title h4 {\\n            margin: 0 0 4px;\\n            font-size: 1rem;\\n            font-weight: 600;\\n            color: #333;\\n          }\\n\\n          .card-subtitle {\\n            font-size: 12px;\\n            color: #6c757d;\\n          }\\n\\n          .status {\\n            padding: 4px 12px;\\n            border-radius: 20px;\\n            font-size: 12px;\\n            font-weight: 600;\\n          }\\n\\n          .status.success {\\n            background-color: #d4edda;\\n            color: #155724;\\n          }\\n\\n          .status.warning {\\n            background-color: #fff3cd;\\n            color: #856404;\\n          }\\n\\n          .status.danger {\\n            background-color: #f8d7da;\\n            color: #721c24;\\n          }\\n\\n          .card-content {\\n            padding: 16px;\\n          }\\n\\n          .info-row {\\n            display: flex;\\n            align-items: center;\\n            gap: 8px;\\n            margin-bottom: 8px;\\n            color: #6c757d;\\n            font-size: 14px;\\n          }\\n\\n          .info-row:last-child {\\n            margin-bottom: 0;\\n          }\\n\\n          .card-actions {\\n            padding: 16px;\\n            border-top: 1px solid #e9ecef;\\n            background-color: #f8f9fa;\\n          }\\n\\n          .pagination {\\n            display: flex;\\n            justify-content: space-between;\\n            align-items: center;\\n            padding-top: 20px;\\n            border-top: 1px solid #e9ecef;\\n          }\\n\\n          .pagination-info {\\n            color: #6c757d;\\n            font-size: 14px;\\n          }\\n\\n          .pagination-controls {\\n            display: flex;\\n            align-items: center;\\n            gap: 16px;\\n          }\\n\\n          .page-info {\\n            color: #6c757d;\\n            font-size: 14px;\\n          }\\n\\n          .modal-overlay {\\n            position: fixed;\\n            top: 0;\\n            left: 0;\\n            right: 0;\\n            bottom: 0;\\n            background: rgba(0, 0, 0, 0.5);\\n            display: flex;\\n            align-items: center;\\n            justify-content: center;\\n            z-index: 1000;\\n            padding: 20px;\\n          }\\n\\n          .modal {\\n            background: white;\\n            border-radius: 16px;\\n            max-width: 600px;\\n            width: 100%;\\n            max-height: 80vh;\\n            overflow-y: auto;\\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\\n          }\\n\\n          .modal-header {\\n            display: flex;\\n            justify-content: space-between;\\n            align-items: center;\\n            padding: 24px;\\n            border-bottom: 1px solid #e9ecef;\\n          }\\n\\n          .modal-title {\\n            font-size: 1.5rem;\\n            font-weight: 600;\\n            color: #333;\\n            margin: 0;\\n          }\\n\\n          .btn-close {\\n            background: none;\\n            border: none;\\n            color: #6c757d;\\n            cursor: pointer;\\n            padding: 8px;\\n            border-radius: 8px;\\n            transition: background-color 0.2s ease;\\n          }\\n\\n          .btn-close:hover {\\n            background-color: #f8f9fa;\\n          }\\n\\n          .modal-body {\\n            padding: 24px;\\n          }\\n\\n          .details-content {\\n            background-color: #f8f9fa;\\n            padding: 16px;\\n            border-radius: 8px;\\n            font-size: 12px;\\n            overflow-x: auto;\\n            white-space: pre-wrap;\\n            color: #333;\\n          }\\n\\n          @media (max-width: 768px) {\\n            .search-type-selector {\\n              flex-direction: column;\\n            }\\n\\n            .filters-grid {\\n              grid-template-columns: 1fr;\\n            }\\n\\n            .results-grid {\\n              grid-template-columns: 1fr;\\n            }\\n\\n            .pagination {\\n              flex-direction: column;\\n              gap: 16px;\\n            }\\n\\n            .modal {\\n              margin: 20px;\\n              max-height: calc(100vh - 40px);\\n            }\\n\\n            .search-actions {\\n              flex-direction: column;\\n            }\\n\\n            .results-header {\\n              flex-direction: column;\\n              gap: 8px;\\n              text-align: center;\\n            }\\n          }\\n        \"})]});};export default Search;// Utilidades de fecha seguras\nconst toValidDate=value=>{if(!value)return null;const d=new Date(value);return isNaN(d.getTime())?null:d;};const safeFormatDate=function(value){let fmt=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'dd/MM/yyyy';const d=toValidDate(value);return d?format(d,fmt,{locale:es}):'N/A';};","map":{"version":3,"names":["React","useState","useEffect","useCallback","LoadingSpinner","Search","SearchIcon","Filter","Car","Calendar","User","FileText","Eye","Download","X","AlertTriangle","axios","toast","format","es","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","searchType","setSearchType","loading","setLoading","results","setResults","filters","setFilters","numeroInterno","placa","fechaInicio","fechaFin","usuario","conObservaciones","tipo","estado","marca","tipoVehiculo","activo","showAdvancedFilters","setShowAdvancedFilters","selectedItem","setSelectedItem","showModal","setShowModal","pagination","setPagination","page","limit","total","totalPages","hasActiveFilters","Object","values","some","value","performSearch","error","token","localStorage","getItem","config","headers","Authorization","concat","searchParams","URLSearchParams","_objectSpread","fromEntries","entries","filter","_ref","_","v","endpoint","response","get","data","inspections","vehicles","dates","prev","handleFilterChange","field","clearFilters","handleViewDetails","item","exportResults","responseType","_ref2","export","blob","Blob","type","url","window","URL","createObjectURL","link","document","createElement","href","download","Date","body","appendChild","click","removeChild","revokeObjectURL","success","renderSearchTypeSelector","className","children","onClick","size","renderFilters","placeholder","onChange","e","target","disabled","length","renderResults","message","color","map","index","_item$usuario","_item$kilometraje","_item$vehiculo","_item$vehiculo2","detallesEncontrados","safeFormatDate","fechaInspeccion","nombres","modelo","kilometraje","toLocaleString","año","fv","toValidDate","fechaVencimiento","now","nextWeek","statusClass","statusText","vehiculo","_id","Math","min","JSON","stringify","d","isNaN","getTime","fmt","arguments","undefined","locale"],"sources":["C:/Users/Pipe/Desktop/REQUERIMIENTO_LUIS/REQUERIMIENTO_LUIS/frontend/src/pages/Search.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport { \n  Search as SearchIcon, \n  Filter, \n  Car,\n  Calendar,\n  User,\n  FileText,\n  Eye,\n  Download,\n  X,\n  AlertTriangle\n} from 'lucide-react';\nimport axios from 'axios';\nimport { toast } from 'react-hot-toast';\nimport { format } from 'date-fns';\nimport { es } from 'date-fns/locale';\n\nconst Search = () => {\n  const [searchType, setSearchType] = useState('inspections'); // 'inspections', 'vehicles', 'dates'\n  const [loading, setLoading] = useState(false);\n  const [results, setResults] = useState([]);\n  const [filters, setFilters] = useState({\n    // Filtros generales\n    numeroInterno: '',\n    placa: '',\n    fechaInicio: '',\n    fechaFin: '',\n    \n    // Filtros específicos para inspecciones\n    usuario: '',\n    conObservaciones: '',\n    \n    // Filtros específicos para fechas de vencimiento\n    tipo: '', // RTM, Revisión Preventiva, SOAT\n    estado: '', // vigente, vencido, próximo a vencer\n    \n    // Filtros específicos para vehículos\n    marca: '',\n    tipoVehiculo: '',\n    activo: ''\n  });\n  const [showAdvancedFilters, setShowAdvancedFilters] = useState(false);\n  const [selectedItem, setSelectedItem] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [pagination, setPagination] = useState({\n    page: 1,\n    limit: 10,\n    total: 0,\n    totalPages: 0\n  });\n\n  const hasActiveFilters = useCallback(() => {\n    return Object.values(filters).some(value => value !== '');\n  }, [filters]);\n\n  const performSearch = useCallback(async () => {\n    if (!hasActiveFilters()) {\n      toast.error('Por favor, ingresa al menos un criterio de búsqueda');\n      return;\n    }\n\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      const config = {\n        headers: { Authorization: `Bearer ${token}` }\n      };\n\n      // Construir parámetros de búsqueda\n      const searchParams = new URLSearchParams({\n        page: pagination.page,\n        limit: pagination.limit,\n        ...Object.fromEntries(Object.entries(filters).filter(([_, v]) => v))\n      });\n\n      let endpoint = '';\n      switch (searchType) {\n        case 'inspections':\n          endpoint = `/api/inspections/search?${searchParams}`;\n          break;\n        case 'vehicles':\n          endpoint = `/api/vehicles/search?${searchParams}`;\n          break;\n        case 'dates':\n          endpoint = `/api/dates/search?${searchParams}`;\n          break;\n        default:\n          endpoint = `/api/inspections/search?${searchParams}`;\n          break;\n      }\n\n      const response = await axios.get(endpoint, config);\n      setResults(response.data.results || response.data.inspections || response.data.vehicles || response.data.dates || []);\n      setPagination(prev => ({\n        ...prev,\n        total: response.data.total || 0,\n        totalPages: response.data.totalPages || 0\n      }));\n    } catch (error) {\n      toast.error('Error al realizar la búsqueda');\n      setResults([]);\n    } finally {\n      setLoading(false);\n    }\n  }, [hasActiveFilters, searchType, pagination.page, pagination.limit, filters]);\n\n  useEffect(() => {\n    if (hasActiveFilters()) {\n      performSearch();\n    }\n  }, [hasActiveFilters, performSearch]);\n\n  const handleFilterChange = (field, value) => {\n    setFilters(prev => ({\n      ...prev,\n      [field]: value\n    }));\n    setPagination(prev => ({ ...prev, page: 1 }));\n  };\n\n  const clearFilters = () => {\n    setFilters({\n      numeroInterno: '',\n      placa: '',\n      fechaInicio: '',\n      fechaFin: '',\n      usuario: '',\n      conObservaciones: '',\n      tipo: '',\n      estado: '',\n      marca: '',\n      tipoVehiculo: '',\n      activo: ''\n    });\n    setResults([]);\n    setPagination(prev => ({ ...prev, page: 1, total: 0, totalPages: 0 }));\n  };\n\n  const handleViewDetails = (item) => {\n    setSelectedItem(item);\n    setShowModal(true);\n  };\n\n  const exportResults = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const config = {\n        headers: { Authorization: `Bearer ${token}` },\n        responseType: 'blob'\n      };\n\n      const searchParams = new URLSearchParams({\n        ...Object.fromEntries(Object.entries(filters).filter(([_, v]) => v)),\n        export: 'true'\n      });\n\n      let endpoint = '';\n      switch (searchType) {\n        case 'inspections':\n          endpoint = `/api/inspections/export?${searchParams}`;\n          break;\n        case 'vehicles':\n          endpoint = `/api/vehicles/export?${searchParams}`;\n          break;\n        case 'dates':\n          endpoint = `/api/dates/export?${searchParams}`;\n          break;\n        default:\n          endpoint = `/api/inspections/export?${searchParams}`;\n          break;\n      }\n\n\n      const response = await axios.get(endpoint, config);\n      \n      // Crear y descargar archivo\n      const blob = new Blob([response.data], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' });\n      const url = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `${searchType}_${format(new Date(), 'yyyy-MM-dd')}.xlsx`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      window.URL.revokeObjectURL(url);\n      \n      toast.success('Archivo exportado exitosamente');\n    } catch (error) {\n      toast.error('Error al exportar resultados');\n    }\n  };\n\n  const renderSearchTypeSelector = () => (\n    <div className=\"search-type-selector\">\n      <button\n        onClick={() => setSearchType('inspections')}\n        className={`type-btn ${searchType === 'inspections' ? 'active' : ''}`}\n      >\n        <FileText size={20} />\n        Inspecciones\n      </button>\n      <button\n        onClick={() => setSearchType('vehicles')}\n        className={`type-btn ${searchType === 'vehicles' ? 'active' : ''}`}\n      >\n        <Car size={20} />\n        Vehículos\n      </button>\n      <button\n        onClick={() => setSearchType('dates')}\n        className={`type-btn ${searchType === 'dates' ? 'active' : ''}`}\n      >\n        <Calendar size={20} />\n        Fechas de Vencimiento\n      </button>\n    </div>\n  );\n\n  const renderFilters = () => (\n    <div className=\"filters-section\">\n      <div className=\"filters-header\">\n        <h3>Filtros de Búsqueda</h3>\n        <div className=\"filter-actions\">\n          <button\n            onClick={() => setShowAdvancedFilters(!showAdvancedFilters)}\n            className=\"btn btn-outline btn-sm\"\n          >\n            <Filter size={16} />\n            {showAdvancedFilters ? 'Filtros Básicos' : 'Filtros Avanzados'}\n          </button>\n          {hasActiveFilters() && (\n            <button\n              onClick={clearFilters}\n              className=\"btn btn-outline btn-sm\"\n            >\n              <X size={16} />\n              Limpiar\n            </button>\n          )}\n        </div>\n      </div>\n\n      <div className=\"filters-grid\">\n        {/* Filtros básicos */}\n        <div className=\"filter-group\">\n          <label>Número Interno</label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Buscar por número interno\"\n            value={filters.numeroInterno}\n            onChange={(e) => handleFilterChange('numeroInterno', e.target.value)}\n          />\n        </div>\n\n        <div className=\"filter-group\">\n          <label>Placa</label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Buscar por placa\"\n            value={filters.placa}\n            onChange={(e) => handleFilterChange('placa', e.target.value)}\n          />\n        </div>\n\n        <div className=\"filter-group\">\n          <label>Fecha Inicio</label>\n          <input\n            type=\"date\"\n            className=\"form-control\"\n            value={filters.fechaInicio}\n            onChange={(e) => handleFilterChange('fechaInicio', e.target.value)}\n          />\n        </div>\n\n        <div className=\"filter-group\">\n          <label>Fecha Fin</label>\n          <input\n            type=\"date\"\n            className=\"form-control\"\n            value={filters.fechaFin}\n            onChange={(e) => handleFilterChange('fechaFin', e.target.value)}\n          />\n        </div>\n\n        {/* Filtros avanzados */}\n        {showAdvancedFilters && (\n          <>\n            {searchType === 'inspections' && (\n              <>\n                <div className=\"filter-group\">\n                  <label>Usuario</label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    placeholder=\"Buscar por usuario\"\n                    value={filters.usuario}\n                    onChange={(e) => handleFilterChange('usuario', e.target.value)}\n                  />\n                </div>\n\n                <div className=\"filter-group\">\n                  <label>Con Observaciones</label>\n                  <select\n                    className=\"form-control\"\n                    value={filters.conObservaciones}\n                    onChange={(e) => handleFilterChange('conObservaciones', e.target.value)}\n                  >\n                    <option value=\"\">Todas</option>\n                    <option value=\"true\">Con observaciones</option>\n                    <option value=\"false\">Sin observaciones</option>\n                  </select>\n                </div>\n              </>\n            )}\n\n            {searchType === 'vehicles' && (\n              <>\n                <div className=\"filter-group\">\n                  <label>Marca</label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    placeholder=\"Buscar por marca\"\n                    value={filters.marca}\n                    onChange={(e) => handleFilterChange('marca', e.target.value)}\n                  />\n                </div>\n\n                <div className=\"filter-group\">\n                  <label>Tipo de Vehículo</label>\n                  <select\n                    className=\"form-control\"\n                    value={filters.tipoVehiculo}\n                    onChange={(e) => handleFilterChange('tipoVehiculo', e.target.value)}\n                  >\n                    <option value=\"\">Todos</option>\n                    <option value=\"Automóvil\">Automóvil</option>\n                    <option value=\"Bus\">Bus</option>\n                    <option value=\"Otro\">Otro</option>\n                  </select>\n                </div>\n\n                <div className=\"filter-group\">\n                  <label>Estado</label>\n                  <select\n                    className=\"form-control\"\n                    value={filters.activo}\n                    onChange={(e) => handleFilterChange('activo', e.target.value)}\n                  >\n                    <option value=\"\">Todos</option>\n                    <option value=\"true\">Activo</option>\n                    <option value=\"false\">Inactivo</option>\n                  </select>\n                </div>\n              </>\n            )}\n\n            {searchType === 'dates' && (\n              <>\n                <div className=\"filter-group\">\n                  <label>Tipo de Fecha</label>\n                  <select\n                    className=\"form-control\"\n                    value={filters.tipo}\n                    onChange={(e) => handleFilterChange('tipo', e.target.value)}\n                  >\n                    <option value=\"\">Todos</option>\n                    <option value=\"RTM\">RTM</option>\n                    <option value=\"Revisión Preventiva\">Revisión Preventiva</option>\n                    <option value=\"SOAT\">SOAT</option>\n                  </select>\n                </div>\n\n                <div className=\"filter-group\">\n                  <label>Estado</label>\n                  <select\n                    className=\"form-control\"\n                    value={filters.estado}\n                    onChange={(e) => handleFilterChange('estado', e.target.value)}\n                  >\n                    <option value=\"\">Todos</option>\n                    <option value=\"vigente\">Vigente</option>\n                    <option value=\"vencido\">Vencido</option>\n                    <option value=\"proximo\">Próximo a vencer</option>\n                  </select>\n                </div>\n              </>\n            )}\n          </>\n        )}\n      </div>\n\n      <div className=\"search-actions\">\n        <button\n          onClick={performSearch}\n          className=\"btn btn-primary\"\n          disabled={loading || !hasActiveFilters()}\n        >\n          <SearchIcon size={16} />\n          {loading ? 'Buscando...' : 'Buscar'}\n        </button>\n        {results.length > 0 && (\n          <button\n            onClick={exportResults}\n            className=\"btn btn-outline\"\n          >\n            <Download size={16} />\n            Exportar\n          </button>\n        )}\n      </div>\n    </div>\n  );\n\n  const renderResults = () => {\n    if (loading) {\n      return <LoadingSpinner message=\"Realizando búsqueda...\" />;\n    }\n\n    if (!hasActiveFilters()) {\n      return (\n        <div className=\"search-placeholder\">\n          <SearchIcon size={64} color=\"#e9ecef\" />\n          <h3>Búsqueda Avanzada</h3>\n          <p>Utiliza los filtros para encontrar la información que necesitas</p>\n        </div>\n      );\n    }\n\n    if (results.length === 0) {\n      return (\n        <div className=\"no-results\">\n          <AlertTriangle size={64} color=\"#e9ecef\" />\n          <h3>No se encontraron resultados</h3>\n          <p>Intenta ajustar los criterios de búsqueda</p>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"results-section\">\n        <div className=\"results-header\">\n          <h3>Resultados de Búsqueda</h3>\n          <span className=\"results-count\">\n            {pagination.total} resultado{pagination.total !== 1 ? 's' : ''} encontrado{pagination.total !== 1 ? 's' : ''}\n          </span>\n        </div>\n\n        <div className=\"results-grid\">\n          {results.map((item, index) => (\n            <div key={item._id || index} className=\"result-card\">\n              {searchType === 'inspections' && (\n                <>\n                  <div className=\"card-header\">\n                    <div className=\"card-icon\">\n                      <FileText size={24} />\n                    </div>\n                    <div className=\"card-title\">\n                      <h4>Inspección - {item.placa}</h4>\n                      <span className=\"card-subtitle\">{item.numeroInterno}</span>\n                    </div>\n                    <div className={`status ${item.detallesEncontrados ? 'warning' : 'success'}`}>\n                      {item.detallesEncontrados ? 'Con observaciones' : 'Sin observaciones'}\n                    </div>\n                  </div>\n                  <div className=\"card-content\">\n                    <div className=\"info-row\">\n                      <Calendar size={16} />\n                      <span>{safeFormatDate(item.fechaInspeccion, 'dd/MM/yyyy')}</span>\n                    </div>\n                    <div className=\"info-row\">\n                      <User size={16} />\n                      <span>{item.usuario?.nombres || 'N/A'}</span>\n                    </div>\n                    <div className=\"info-row\">\n                      <Car size={16} />\n                      <span>{item.marca} {item.modelo} - {item.kilometraje?.toLocaleString()} km</span>\n                    </div>\n                  </div>\n                </>\n              )}\n\n              {searchType === 'vehicles' && (\n                <>\n                  <div className=\"card-header\">\n                    <div className=\"card-icon\">\n                      <Car size={24} />\n                    </div>\n                    <div className=\"card-title\">\n                      <h4>{item.placa} - {item.marca}</h4>\n                      <span className=\"card-subtitle\">{item.numeroInterno}</span>\n                    </div>\n                    <div className={`status ${item.activo ? 'success' : 'danger'}`}>\n                      {item.activo ? 'Activo' : 'Inactivo'}\n                    </div>\n                  </div>\n                  <div className=\"card-content\">\n                    <div className=\"info-row\">\n                      <span><strong>Tipo:</strong> {item.tipo}</span>\n                    </div>\n                    <div className=\"info-row\">\n                      <span><strong>Modelo:</strong> {item.modelo}</span>\n                    </div>\n                    <div className=\"info-row\">\n                      <span><strong>Año:</strong> {item.año}</span>\n                    </div>\n                  </div>\n                </>\n              )}\n\n              {searchType === 'dates' && (\n                <>\n                  <div className=\"card-header\">\n                    <div className=\"card-icon\">\n                      <Calendar size={24} />\n                    </div>\n                    <div className=\"card-title\">\n                      <h4>{item.tipo} - {item.placa}</h4>\n                      <span className=\"card-subtitle\">{item.numeroInterno}</span>\n                    </div>\n                    {(() => {\n                      const fv = toValidDate(item.fechaVencimiento);\n                      const now = new Date();\n                      const nextWeek = new Date(Date.now() + 7 * 24 * 60 * 60 * 1000);\n                      const statusClass = !fv ? 'neutral' : (fv < now ? 'danger' : (fv <= nextWeek ? 'warning' : 'success'));\n                      const statusText = !fv ? 'Sin fecha' : (fv < now ? 'Vencido' : (fv <= nextWeek ? 'Próximo a vencer' : 'Vigente'));\n                      return (\n                        <div className={`status ${statusClass}`}>\n                          {statusText}\n                        </div>\n                      );\n                    })()}\n                  </div>\n                  <div className=\"card-content\">\n                    <div className=\"info-row\">\n                      <Calendar size={16} />\n                      <span><strong>Vence:</strong> {safeFormatDate(item.fechaVencimiento, 'dd/MM/yyyy')}</span>\n                    </div>\n                    <div className=\"info-row\">\n                      <Car size={16} />\n                      <span>{item.vehiculo?.marca} {item.vehiculo?.modelo}</span>\n                    </div>\n                  </div>\n                </>\n              )}\n\n              <div className=\"card-actions\">\n                <button\n                  onClick={() => handleViewDetails(item)}\n                  className=\"btn btn-outline btn-sm\"\n                >\n                  <Eye size={16} />\n                  Ver Detalles\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n\n        {/* Pagination */}\n        {pagination.totalPages > 1 && (\n          <div className=\"pagination\">\n            <div className=\"pagination-info\">\n              Mostrando {((pagination.page - 1) * pagination.limit) + 1} - {Math.min(pagination.page * pagination.limit, pagination.total)} de {pagination.total} resultados\n            </div>\n            <div className=\"pagination-controls\">\n              <button\n                onClick={() => setPagination(prev => ({ ...prev, page: prev.page - 1 }))}\n                disabled={pagination.page === 1}\n                className=\"btn btn-outline btn-sm\"\n              >\n                Anterior\n              </button>\n              <span className=\"page-info\">\n                Página {pagination.page} de {pagination.totalPages}\n              </span>\n              <button\n                onClick={() => setPagination(prev => ({ ...prev, page: prev.page + 1 }))}\n                disabled={pagination.page === pagination.totalPages}\n                className=\"btn btn-outline btn-sm\"\n              >\n                Siguiente\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"search-page\">\n        <div className=\"container\">\n          <div className=\"page-header\">\n            <div className=\"header-content\">\n              <h1 className=\"page-title\">\n                <SearchIcon size={28} />\n                Búsqueda Avanzada\n              </h1>\n              <p className=\"page-subtitle\">\n                Encuentra información específica usando filtros personalizados\n              </p>\n            </div>\n          </div>\n\n          {renderSearchTypeSelector()}\n          {renderFilters()}\n          {renderResults()}\n        </div>\n\n        {/* Modal de detalles */}\n        {showModal && selectedItem && (\n          <div className=\"modal-overlay\">\n            <div className=\"modal\">\n              <div className=\"modal-header\">\n                <h3 className=\"modal-title\">Detalles del Resultado</h3>\n                <button\n                  onClick={() => setShowModal(false)}\n                  className=\"btn-close\"\n                >\n                  <X size={20} />\n                </button>\n              </div>\n              <div className=\"modal-body\">\n                <pre className=\"details-content\">\n                  {JSON.stringify(selectedItem, null, 2)}\n                </pre>\n              </div>\n            </div>\n          </div>\n        )}\n\n        <style jsx=\"true\">{`\n          .search-page {\n            min-height: calc(100vh - 70px);\n            background-color: #f8f9fa;\n            padding: 32px 0;\n          }\n\n          .container {\n            max-width: 1200px;\n            margin: 0 auto;\n            padding: 0 20px;\n          }\n\n          .page-header {\n            margin-bottom: 32px;\n            padding: 24px;\n            background: white;\n            border-radius: 16px;\n            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n          }\n\n          .page-title {\n            display: flex;\n            align-items: center;\n            gap: 12px;\n            font-size: 2rem;\n            font-weight: 700;\n            color: #333;\n            margin-bottom: 8px;\n          }\n\n          .page-subtitle {\n            color: #6c757d;\n            margin: 0;\n          }\n\n          .search-type-selector {\n            display: flex;\n            gap: 8px;\n            margin-bottom: 24px;\n            background: white;\n            padding: 8px;\n            border-radius: 12px;\n            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n          }\n\n          .type-btn {\n            display: flex;\n            align-items: center;\n            gap: 8px;\n            padding: 12px 20px;\n            border: none;\n            background: transparent;\n            border-radius: 8px;\n            cursor: pointer;\n            font-weight: 500;\n            color: #6c757d;\n            transition: all 0.2s ease;\n          }\n\n          .type-btn:hover {\n            background-color: #f8f9fa;\n            color: #007bff;\n          }\n\n          .type-btn.active {\n            background-color: #007bff;\n            color: white;\n          }\n\n          .filters-section {\n            background: white;\n            border-radius: 16px;\n            padding: 24px;\n            margin-bottom: 24px;\n            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n          }\n\n          .filters-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 20px;\n          }\n\n          .filters-header h3 {\n            color: #333;\n            margin: 0;\n            font-size: 1.2rem;\n            font-weight: 600;\n          }\n\n          .filter-actions {\n            display: flex;\n            gap: 8px;\n          }\n\n          .filters-grid {\n            display: grid;\n            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n            gap: 16px;\n            margin-bottom: 24px;\n          }\n\n          .filter-group {\n            display: flex;\n            flex-direction: column;\n            gap: 8px;\n          }\n\n          .filter-group label {\n            font-weight: 600;\n            color: #333;\n            font-size: 14px;\n          }\n\n          .search-actions {\n            display: flex;\n            gap: 12px;\n            justify-content: center;\n          }\n\n          .search-placeholder,\n          .no-results {\n            text-align: center;\n            padding: 80px 20px;\n            color: #6c757d;\n            background: white;\n            border-radius: 16px;\n            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n          }\n\n          .search-placeholder h3,\n          .no-results h3 {\n            margin: 24px 0 16px;\n            color: #333;\n          }\n\n          .results-section {\n            background: white;\n            border-radius: 16px;\n            padding: 24px;\n            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n          }\n\n          .results-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 24px;\n            padding-bottom: 16px;\n            border-bottom: 1px solid #e9ecef;\n          }\n\n          .results-header h3 {\n            color: #333;\n            margin: 0;\n            font-size: 1.2rem;\n            font-weight: 600;\n          }\n\n          .results-count {\n            color: #6c757d;\n            font-size: 14px;\n          }\n\n          .results-grid {\n            display: grid;\n            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\n            gap: 20px;\n            margin-bottom: 24px;\n          }\n\n          .result-card {\n            border: 1px solid #e9ecef;\n            border-radius: 12px;\n            overflow: hidden;\n            transition: all 0.2s ease;\n          }\n\n          .result-card:hover {\n            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n            transform: translateY(-2px);\n          }\n\n          .card-header {\n            display: flex;\n            align-items: center;\n            gap: 12px;\n            padding: 16px;\n            background-color: #f8f9fa;\n            border-bottom: 1px solid #e9ecef;\n          }\n\n          .card-icon {\n            color: #007bff;\n          }\n\n          .card-title {\n            flex: 1;\n          }\n\n          .card-title h4 {\n            margin: 0 0 4px;\n            font-size: 1rem;\n            font-weight: 600;\n            color: #333;\n          }\n\n          .card-subtitle {\n            font-size: 12px;\n            color: #6c757d;\n          }\n\n          .status {\n            padding: 4px 12px;\n            border-radius: 20px;\n            font-size: 12px;\n            font-weight: 600;\n          }\n\n          .status.success {\n            background-color: #d4edda;\n            color: #155724;\n          }\n\n          .status.warning {\n            background-color: #fff3cd;\n            color: #856404;\n          }\n\n          .status.danger {\n            background-color: #f8d7da;\n            color: #721c24;\n          }\n\n          .card-content {\n            padding: 16px;\n          }\n\n          .info-row {\n            display: flex;\n            align-items: center;\n            gap: 8px;\n            margin-bottom: 8px;\n            color: #6c757d;\n            font-size: 14px;\n          }\n\n          .info-row:last-child {\n            margin-bottom: 0;\n          }\n\n          .card-actions {\n            padding: 16px;\n            border-top: 1px solid #e9ecef;\n            background-color: #f8f9fa;\n          }\n\n          .pagination {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            padding-top: 20px;\n            border-top: 1px solid #e9ecef;\n          }\n\n          .pagination-info {\n            color: #6c757d;\n            font-size: 14px;\n          }\n\n          .pagination-controls {\n            display: flex;\n            align-items: center;\n            gap: 16px;\n          }\n\n          .page-info {\n            color: #6c757d;\n            font-size: 14px;\n          }\n\n          .modal-overlay {\n            position: fixed;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: rgba(0, 0, 0, 0.5);\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            z-index: 1000;\n            padding: 20px;\n          }\n\n          .modal {\n            background: white;\n            border-radius: 16px;\n            max-width: 600px;\n            width: 100%;\n            max-height: 80vh;\n            overflow-y: auto;\n            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n          }\n\n          .modal-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            padding: 24px;\n            border-bottom: 1px solid #e9ecef;\n          }\n\n          .modal-title {\n            font-size: 1.5rem;\n            font-weight: 600;\n            color: #333;\n            margin: 0;\n          }\n\n          .btn-close {\n            background: none;\n            border: none;\n            color: #6c757d;\n            cursor: pointer;\n            padding: 8px;\n            border-radius: 8px;\n            transition: background-color 0.2s ease;\n          }\n\n          .btn-close:hover {\n            background-color: #f8f9fa;\n          }\n\n          .modal-body {\n            padding: 24px;\n          }\n\n          .details-content {\n            background-color: #f8f9fa;\n            padding: 16px;\n            border-radius: 8px;\n            font-size: 12px;\n            overflow-x: auto;\n            white-space: pre-wrap;\n            color: #333;\n          }\n\n          @media (max-width: 768px) {\n            .search-type-selector {\n              flex-direction: column;\n            }\n\n            .filters-grid {\n              grid-template-columns: 1fr;\n            }\n\n            .results-grid {\n              grid-template-columns: 1fr;\n            }\n\n            .pagination {\n              flex-direction: column;\n              gap: 16px;\n            }\n\n            .modal {\n              margin: 20px;\n              max-height: calc(100vh - 40px);\n            }\n\n            .search-actions {\n              flex-direction: column;\n            }\n\n            .results-header {\n              flex-direction: column;\n              gap: 8px;\n              text-align: center;\n            }\n          }\n        `}</style>\n      </div>\n  );\n};\n\nexport default Search;\n// Utilidades de fecha seguras\nconst toValidDate = (value) => {\n  if (!value) return null;\n  const d = new Date(value);\n  return isNaN(d.getTime()) ? null : d;\n};\n\nconst safeFormatDate = (value, fmt = 'dd/MM/yyyy') => {\n  const d = toValidDate(value);\n  return d ? format(d, fmt, { locale: es }) : 'N/A';\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}