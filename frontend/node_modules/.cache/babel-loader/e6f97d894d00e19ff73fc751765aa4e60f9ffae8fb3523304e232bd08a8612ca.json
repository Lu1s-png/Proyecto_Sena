{"ast":null,"code":"var _jsxFileName = \"D:\\\\Usuarios\\\\Jahir050\\\\Escritorio\\\\REQUERIMIENTO_LUIS\\\\frontend\\\\src\\\\pages\\\\Notifications.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport { AuthContext } from '../contexts/AuthContext';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport { Bell } from 'lucide-react';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Notifications = () => {\n  _s();\n  const {\n    token\n  } = useContext(AuthContext);\n  const [notifications, setNotifications] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const fetchData = async () => {\n      if (!token) {\n        toast.error('No hay token de autenticación');\n        setLoading(false);\n        return;\n      }\n      try {\n        const response = await fetch('/api/notifications?page=1&limit=10', {\n          headers: {\n            'Authorization': `Bearer ${token}`,\n            'Content-Type': 'application/json'\n          }\n        });\n        if (response.ok) {\n          const data = await response.json();\n          setNotifications(data.notifications || []);\n          toast.success('Notificaciones cargadas correctamente');\n        } else {\n          const errorText = await response.text();\n          toast.error(`Error: ${response.status} - ${errorText}`);\n        }\n      } catch (error) {\n        toast.error(`Error de conexión: ${error.message}`);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, [token]);\n  const markAsRead = async notificationId => {\n    try {\n      const response = await fetch(`/api/notifications/${notificationId}/read`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (response.ok) {\n        setNotifications(prev => prev.map(notif => notif._id === notificationId ? {\n          ...notif,\n          leida: true,\n          fechaLectura: new Date()\n        } : notif));\n        fetchStatistics();\n        toast.success('Notificación marcada como leída');\n      } else {\n        toast.error('Error al marcar como leída');\n      }\n    } catch (error) {\n      console.error('Error marking as read:', error);\n      toast.error('Error al marcar como leída');\n    }\n  };\n  const markAllAsRead = async () => {\n    try {\n      const response = await fetch('/api/notifications/mark-all-read', {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (response.ok) {\n        setNotifications(prev => prev.map(notif => ({\n          ...notif,\n          leida: true,\n          fechaLectura: new Date()\n        })));\n        fetchStatistics();\n        toast.success('Todas las notificaciones marcadas como leídas');\n      } else {\n        toast.error('Error al marcar todas como leídas');\n      }\n    } catch (error) {\n      console.error('Error marking all as read:', error);\n      toast.error('Error al marcar todas como leídas');\n    }\n  };\n  const deleteNotification = async notificationId => {\n    if (!window.confirm('¿Está seguro de que desea eliminar esta notificación?')) {\n      return;\n    }\n    try {\n      const response = await fetch(`/api/notifications/${notificationId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (response.ok) {\n        setNotifications(prev => prev.filter(notif => notif._id !== notificationId));\n        fetchStatistics();\n        toast.success('Notificación eliminada');\n      } else {\n        toast.error('Error al eliminar la notificación');\n      }\n    } catch (error) {\n      console.error('Error deleting notification:', error);\n      toast.error('Error al eliminar la notificación');\n    }\n  };\n  const handleViewDetails = notification => {\n    setSelectedNotification(notification);\n    setShowModal(true);\n    if (!notification.leida) {\n      markAsRead(notification._id);\n    }\n  };\n  const handleFilterChange = (field, value) => {\n    setFilters(prev => ({\n      ...prev,\n      [field]: value\n    }));\n    setPagination(prev => ({\n      ...prev,\n      page: 1\n    }));\n  };\n  const clearFilters = () => {\n    setFilters({\n      tipo: '',\n      leida: '',\n      prioridad: ''\n    });\n    setPagination(prev => ({\n      ...prev,\n      page: 1\n    }));\n  };\n  const exportNotifications = async () => {\n    try {\n      const queryParams = new URLSearchParams({\n        ...Object.fromEntries(Object.entries(filters).filter(([_, v]) => v !== ''))\n      });\n      const response = await fetch(`/api/notifications/export?${queryParams}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        const blob = await response.blob();\n        const url = window.URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.style.display = 'none';\n        a.href = url;\n        a.download = `notificaciones_${new Date().toISOString().split('T')[0]}.xlsx`;\n        document.body.appendChild(a);\n        a.click();\n        window.URL.revokeObjectURL(url);\n        toast.success('Notificaciones exportadas exitosamente');\n      } else {\n        toast.error('Error al exportar las notificaciones');\n      }\n    } catch (error) {\n      console.error('Error exporting notifications:', error);\n      toast.error('Error al exportar las notificaciones');\n    }\n  };\n  const getPriorityIcon = priority => {\n    switch (priority) {\n      case 'alta':\n        return /*#__PURE__*/_jsxDEV(AlertTriangle, {\n          className: \"notification-priority-icon high\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 16\n        }, this);\n      case 'media':\n        return /*#__PURE__*/_jsxDEV(Clock, {\n          className: \"notification-priority-icon medium\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 16\n        }, this);\n      case 'baja':\n        return /*#__PURE__*/_jsxDEV(CheckCircle, {\n          className: \"notification-priority-icon low\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(Bell, {\n          className: \"notification-priority-icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  const getPriorityClass = priority => {\n    switch (priority) {\n      case 'alta':\n        return 'priority-high';\n      case 'media':\n        return 'priority-medium';\n      case 'baja':\n        return 'priority-low';\n      default:\n        return '';\n    }\n  };\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleDateString('es-ES', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  if (loading && notifications.length === 0) {\n    return /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n      message: \"Cargando notificaciones...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"notifications-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"notifications-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [/*#__PURE__*/_jsxDEV(Bell, {\n            className: \"page-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this), \"Notificaciones\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: markAllAsRead,\n            className: \"btn btn-secondary\",\n            disabled: statistics.noLeidas === 0,\n            children: \"Marcar todas como le\\xEDdas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: exportNotifications,\n            className: \"btn btn-primary\",\n            children: [/*#__PURE__*/_jsxDEV(Download, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this), \"Exportar\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"statistics-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: statistics.total\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"Total\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: statistics.noLeidas\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"No Le\\xEDdas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card priority-high\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: statistics.alta\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"Alta Prioridad\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card priority-medium\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: statistics.media\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"Media Prioridad\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card priority-low\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: statistics.baja\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"Baja Prioridad\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filters-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filters-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [/*#__PURE__*/_jsxDEV(Filter, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 13\n          }, this), \"Filtros\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: clearFilters,\n          className: \"btn btn-outline\",\n          children: \"Limpiar Filtros\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filters-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Tipo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: filters.tipo,\n            onChange: e => handleFilterChange('tipo', e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Todos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"vencimiento\",\n              children: \"Vencimiento\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"inspeccion\",\n              children: \"Inspecci\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"sistema\",\n              children: \"Sistema\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Estado\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: filters.leida,\n            onChange: e => handleFilterChange('leida', e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Todas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"false\",\n              children: \"No Le\\xEDdas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"true\",\n              children: \"Le\\xEDdas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Prioridad\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: filters.prioridad,\n            onChange: e => handleFilterChange('prioridad', e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Todas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"alta\",\n              children: \"Alta\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"media\",\n              children: \"Media\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"baja\",\n              children: \"Baja\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"notifications-list\",\n      children: notifications.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state\",\n        children: [/*#__PURE__*/_jsxDEV(Bell, {\n          size: 48\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"No hay notificaciones\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No se encontraron notificaciones con los filtros aplicados.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [notifications.map(notification => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `notification-card ${!notification.leida ? 'unread' : ''} ${getPriorityClass(notification.prioridad)}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"notification-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"notification-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"notification-title\",\n                children: [getPriorityIcon(notification.prioridad), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: notification.titulo\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 23\n                }, this), !notification.leida && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"unread-indicator\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 47\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"notification-date\",\n                children: formatDate(notification.fechaCreacion)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"notification-message\",\n              children: notification.mensaje\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"notification-meta\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: `notification-type ${notification.tipo}`,\n                children: notification.tipo\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `notification-priority ${notification.prioridad}`,\n                children: notification.prioridad\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"notification-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleViewDetails(notification),\n              className: \"btn btn-sm btn-outline\",\n              title: \"Ver detalles\",\n              children: /*#__PURE__*/_jsxDEV(Eye, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => deleteNotification(notification._id),\n              className: \"btn btn-sm btn-danger\",\n              title: \"Eliminar\",\n              children: /*#__PURE__*/_jsxDEV(Trash2, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 17\n          }, this)]\n        }, notification._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 15\n        }, this)), pagination.totalPages > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pagination\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setPagination(prev => ({\n              ...prev,\n              page: prev.page - 1\n            })),\n            disabled: pagination.page === 1,\n            className: \"btn btn-outline\",\n            children: \"Anterior\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"pagination-info\",\n            children: [\"P\\xE1gina \", pagination.page, \" de \", pagination.totalPages]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setPagination(prev => ({\n              ...prev,\n              page: prev.page + 1\n            })),\n            disabled: pagination.page === pagination.totalPages,\n            className: \"btn btn-outline\",\n            children: \"Siguiente\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 7\n    }, this), showModal && selectedNotification && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      onClick: () => setShowModal(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Detalles de la Notificaci\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowModal(false),\n            className: \"modal-close\",\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"notification-detail\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"T\\xEDtulo:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: selectedNotification.titulo\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Tipo:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 436,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `notification-type ${selectedNotification.tipo}`,\n                children: selectedNotification.tipo\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Prioridad:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `notification-priority ${selectedNotification.prioridad}`,\n                children: selectedNotification.prioridad\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Mensaje:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: selectedNotification.mensaje\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 451,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Fecha de Creaci\\xF3n:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: formatDate(selectedNotification.fechaCreacion)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 17\n            }, this), selectedNotification.fechaLectura && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Fecha de Lectura:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: formatDate(selectedNotification.fechaLectura)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 462,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 19\n            }, this), selectedNotification.datos && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Datos Adicionales:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 468,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n                children: JSON.stringify(selectedNotification.datos, null, 2)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 469,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 416,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: \"true\",\n      children: `\n        .notifications-container {\n          padding: 20px;\n          max-width: 1200px;\n          margin: 0 auto;\n        }\n\n        .notifications-header {\n          margin-bottom: 30px;\n        }\n\n        .header-content {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 20px;\n        }\n\n        .header-content h1 {\n          display: flex;\n          align-items: center;\n          gap: 10px;\n          margin: 0;\n          color: #333;\n        }\n\n        .page-icon {\n          color: #007bff;\n        }\n\n        .header-actions {\n          display: flex;\n          gap: 10px;\n        }\n\n        .statistics-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n          gap: 15px;\n          margin-bottom: 20px;\n        }\n\n        .stat-card {\n          background: white;\n          padding: 20px;\n          border-radius: 8px;\n          box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n          text-align: center;\n          border-left: 4px solid #007bff;\n        }\n\n        .stat-card.priority-high {\n          border-left-color: #dc3545;\n        }\n\n        .stat-card.priority-medium {\n          border-left-color: #ffc107;\n        }\n\n        .stat-card.priority-low {\n          border-left-color: #28a745;\n        }\n\n        .stat-value {\n          font-size: 2rem;\n          font-weight: bold;\n          color: #333;\n        }\n\n        .stat-label {\n          color: #666;\n          font-size: 0.9rem;\n          margin-top: 5px;\n        }\n\n        .filters-section {\n          background: white;\n          padding: 20px;\n          border-radius: 8px;\n          box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n          margin-bottom: 20px;\n        }\n\n        .filters-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 15px;\n        }\n\n        .filters-header h3 {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          margin: 0;\n          color: #333;\n        }\n\n        .filters-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n          gap: 15px;\n        }\n\n        .filter-group {\n          display: flex;\n          flex-direction: column;\n        }\n\n        .filter-group label {\n          margin-bottom: 5px;\n          font-weight: 500;\n          color: #333;\n        }\n\n        .filter-group select {\n          padding: 8px 12px;\n          border: 1px solid #ddd;\n          border-radius: 4px;\n          font-size: 14px;\n        }\n\n        .notifications-list {\n          display: flex;\n          flex-direction: column;\n          gap: 15px;\n        }\n\n        .notification-card {\n          background: white;\n          border-radius: 8px;\n          box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n          padding: 20px;\n          display: flex;\n          justify-content: space-between;\n          align-items: flex-start;\n          transition: all 0.2s ease;\n          border-left: 4px solid #e9ecef;\n        }\n\n        .notification-card:hover {\n          box-shadow: 0 4px 8px rgba(0,0,0,0.15);\n        }\n\n        .notification-card.unread {\n          border-left-color: #007bff;\n          background: #f8f9ff;\n        }\n\n        .notification-card.priority-high {\n          border-left-color: #dc3545;\n        }\n\n        .notification-card.priority-medium {\n          border-left-color: #ffc107;\n        }\n\n        .notification-card.priority-low {\n          border-left-color: #28a745;\n        }\n\n        .notification-content {\n          flex: 1;\n        }\n\n        .notification-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: flex-start;\n          margin-bottom: 10px;\n        }\n\n        .notification-title {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          font-weight: 600;\n          color: #333;\n        }\n\n        .notification-priority-icon {\n          width: 18px;\n          height: 18px;\n        }\n\n        .notification-priority-icon.high {\n          color: #dc3545;\n        }\n\n        .notification-priority-icon.medium {\n          color: #ffc107;\n        }\n\n        .notification-priority-icon.low {\n          color: #28a745;\n        }\n\n        .unread-indicator {\n          width: 8px;\n          height: 8px;\n          background: #007bff;\n          border-radius: 50%;\n          margin-left: 5px;\n        }\n\n        .notification-date {\n          color: #666;\n          font-size: 0.9rem;\n        }\n\n        .notification-message {\n          color: #555;\n          margin-bottom: 10px;\n          line-height: 1.5;\n        }\n\n        .notification-meta {\n          display: flex;\n          gap: 10px;\n        }\n\n        .notification-type,\n        .notification-priority {\n          padding: 2px 8px;\n          border-radius: 12px;\n          font-size: 0.8rem;\n          font-weight: 500;\n        }\n\n        .notification-type.vencimiento {\n          background: #fff3cd;\n          color: #856404;\n        }\n\n        .notification-type.inspeccion {\n          background: #d1ecf1;\n          color: #0c5460;\n        }\n\n        .notification-type.sistema {\n          background: #d4edda;\n          color: #155724;\n        }\n\n        .notification-priority.alta {\n          background: #f8d7da;\n          color: #721c24;\n        }\n\n        .notification-priority.media {\n          background: #fff3cd;\n          color: #856404;\n        }\n\n        .notification-priority.baja {\n          background: #d4edda;\n          color: #155724;\n        }\n\n        .notification-actions {\n          display: flex;\n          gap: 5px;\n          margin-left: 15px;\n        }\n\n        .empty-state {\n          text-align: center;\n          padding: 60px 20px;\n          color: #666;\n        }\n\n        .empty-state svg {\n          color: #ccc;\n          margin-bottom: 20px;\n        }\n\n        .empty-state h3 {\n          margin-bottom: 10px;\n          color: #333;\n        }\n\n        .pagination {\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          gap: 15px;\n          margin-top: 30px;\n          padding: 20px;\n        }\n\n        .pagination-info {\n          color: #666;\n          font-size: 0.9rem;\n        }\n\n        .modal-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(0,0,0,0.5);\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          z-index: 1000;\n        }\n\n        .modal-content {\n          background: white;\n          border-radius: 8px;\n          width: 90%;\n          max-width: 600px;\n          max-height: 80vh;\n          overflow-y: auto;\n        }\n\n        .modal-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding: 20px;\n          border-bottom: 1px solid #eee;\n        }\n\n        .modal-header h3 {\n          margin: 0;\n          color: #333;\n        }\n\n        .modal-close {\n          background: none;\n          border: none;\n          font-size: 24px;\n          cursor: pointer;\n          color: #666;\n          padding: 0;\n          width: 30px;\n          height: 30px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        .modal-body {\n          padding: 20px;\n        }\n\n        .notification-detail {\n          display: flex;\n          flex-direction: column;\n          gap: 15px;\n        }\n\n        .detail-row {\n          display: flex;\n          flex-direction: column;\n          gap: 5px;\n        }\n\n        .detail-row strong {\n          color: #333;\n          font-weight: 600;\n        }\n\n        .detail-row pre {\n          background: #f8f9fa;\n          padding: 10px;\n          border-radius: 4px;\n          font-size: 0.9rem;\n          overflow-x: auto;\n        }\n\n        @media (max-width: 768px) {\n          .notifications-container {\n            padding: 15px;\n          }\n\n          .header-content {\n            flex-direction: column;\n            align-items: flex-start;\n            gap: 15px;\n          }\n\n          .header-actions {\n            width: 100%;\n            justify-content: flex-end;\n          }\n\n          .statistics-grid {\n            grid-template-columns: repeat(2, 1fr);\n          }\n\n          .filters-grid {\n            grid-template-columns: 1fr;\n          }\n\n          .notification-card {\n            flex-direction: column;\n            gap: 15px;\n          }\n\n          .notification-actions {\n            margin-left: 0;\n            align-self: flex-end;\n          }\n\n          .modal-content {\n            width: 95%;\n            margin: 20px;\n          }\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 478,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 226,\n    columnNumber: 5\n  }, this);\n};\n_s(Notifications, \"+xq8YVAVf8++Cs7TYx72Tg09kig=\");\n_c = Notifications;\nexport default Notifications;\nvar _c;\n$RefreshReg$(_c, \"Notifications\");","map":{"version":3,"names":["React","useState","useEffect","useContext","AuthContext","LoadingSpinner","Bell","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","Notifications","_s","token","notifications","setNotifications","loading","setLoading","fetchData","error","response","fetch","headers","ok","data","json","success","errorText","text","status","message","markAsRead","notificationId","method","prev","map","notif","_id","leida","fechaLectura","Date","fetchStatistics","console","markAllAsRead","deleteNotification","window","confirm","filter","handleViewDetails","notification","setSelectedNotification","setShowModal","handleFilterChange","field","value","setFilters","setPagination","page","clearFilters","tipo","prioridad","exportNotifications","queryParams","URLSearchParams","Object","fromEntries","entries","filters","_","v","blob","url","URL","createObjectURL","a","document","createElement","style","display","href","download","toISOString","split","body","appendChild","click","revokeObjectURL","getPriorityIcon","priority","AlertTriangle","className","fileName","_jsxFileName","lineNumber","columnNumber","Clock","CheckCircle","getPriorityClass","formatDate","dateString","toLocaleDateString","year","month","day","hour","minute","length","children","onClick","disabled","statistics","noLeidas","Download","size","total","alta","media","baja","Filter","onChange","e","target","titulo","fechaCreacion","mensaje","title","Eye","Trash2","pagination","totalPages","showModal","selectedNotification","stopPropagation","datos","JSON","stringify","jsx","_c","$RefreshReg$"],"sources":["D:/Usuarios/Jahir050/Escritorio/REQUERIMIENTO_LUIS/frontend/src/pages/Notifications.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { AuthContext } from '../contexts/AuthContext';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport { Bell } from 'lucide-react';\nimport toast from 'react-hot-toast';\n\nconst Notifications = () => {\n  const { token } = useContext(AuthContext);\n  const [notifications, setNotifications] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      if (!token) {\n        toast.error('No hay token de autenticación');\n        setLoading(false);\n        return;\n      }\n\n      try {\n        const response = await fetch('/api/notifications?page=1&limit=10', {\n          headers: {\n            'Authorization': `Bearer ${token}`,\n            'Content-Type': 'application/json'\n          }\n        });\n\n        if (response.ok) {\n          const data = await response.json();\n          setNotifications(data.notifications || []);\n          toast.success('Notificaciones cargadas correctamente');\n        } else {\n          const errorText = await response.text();\n          toast.error(`Error: ${response.status} - ${errorText}`);\n        }\n      } catch (error) {\n        toast.error(`Error de conexión: ${error.message}`);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [token]);\n\n  const markAsRead = async (notificationId) => {\n    try {\n      const response = await fetch(`/api/notifications/${notificationId}/read`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n\n      if (response.ok) {\n        setNotifications(prev => \n          prev.map(notif => \n            notif._id === notificationId \n              ? { ...notif, leida: true, fechaLectura: new Date() }\n              : notif\n          )\n        );\n        fetchStatistics();\n        toast.success('Notificación marcada como leída');\n      } else {\n        toast.error('Error al marcar como leída');\n      }\n    } catch (error) {\n      console.error('Error marking as read:', error);\n      toast.error('Error al marcar como leída');\n    }\n  };\n\n  const markAllAsRead = async () => {\n    try {\n      const response = await fetch('/api/notifications/mark-all-read', {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n\n      if (response.ok) {\n        setNotifications(prev => \n          prev.map(notif => ({ \n            ...notif, \n            leida: true, \n            fechaLectura: new Date() \n          }))\n        );\n        fetchStatistics();\n        toast.success('Todas las notificaciones marcadas como leídas');\n      } else {\n        toast.error('Error al marcar todas como leídas');\n      }\n    } catch (error) {\n      console.error('Error marking all as read:', error);\n      toast.error('Error al marcar todas como leídas');\n    }\n  };\n\n  const deleteNotification = async (notificationId) => {\n    if (!window.confirm('¿Está seguro de que desea eliminar esta notificación?')) {\n      return;\n    }\n\n    try {\n      const response = await fetch(`/api/notifications/${notificationId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n\n      if (response.ok) {\n        setNotifications(prev => prev.filter(notif => notif._id !== notificationId));\n        fetchStatistics();\n        toast.success('Notificación eliminada');\n      } else {\n        toast.error('Error al eliminar la notificación');\n      }\n    } catch (error) {\n      console.error('Error deleting notification:', error);\n      toast.error('Error al eliminar la notificación');\n    }\n  };\n\n  const handleViewDetails = (notification) => {\n    setSelectedNotification(notification);\n    setShowModal(true);\n    if (!notification.leida) {\n      markAsRead(notification._id);\n    }\n  };\n\n  const handleFilterChange = (field, value) => {\n    setFilters(prev => ({ ...prev, [field]: value }));\n    setPagination(prev => ({ ...prev, page: 1 }));\n  };\n\n  const clearFilters = () => {\n    setFilters({\n      tipo: '',\n      leida: '',\n      prioridad: ''\n    });\n    setPagination(prev => ({ ...prev, page: 1 }));\n  };\n\n  const exportNotifications = async () => {\n    try {\n      const queryParams = new URLSearchParams({\n        ...Object.fromEntries(Object.entries(filters).filter(([_, v]) => v !== ''))\n      });\n\n      const response = await fetch(`/api/notifications/export?${queryParams}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n\n      if (response.ok) {\n        const blob = await response.blob();\n        const url = window.URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.style.display = 'none';\n        a.href = url;\n        a.download = `notificaciones_${new Date().toISOString().split('T')[0]}.xlsx`;\n        document.body.appendChild(a);\n        a.click();\n        window.URL.revokeObjectURL(url);\n        toast.success('Notificaciones exportadas exitosamente');\n      } else {\n        toast.error('Error al exportar las notificaciones');\n      }\n    } catch (error) {\n      console.error('Error exporting notifications:', error);\n      toast.error('Error al exportar las notificaciones');\n    }\n  };\n\n  const getPriorityIcon = (priority) => {\n    switch (priority) {\n      case 'alta':\n        return <AlertTriangle className=\"notification-priority-icon high\" />;\n      case 'media':\n        return <Clock className=\"notification-priority-icon medium\" />;\n      case 'baja':\n        return <CheckCircle className=\"notification-priority-icon low\" />;\n      default:\n        return <Bell className=\"notification-priority-icon\" />;\n    }\n  };\n\n  const getPriorityClass = (priority) => {\n    switch (priority) {\n      case 'alta':\n        return 'priority-high';\n      case 'media':\n        return 'priority-medium';\n      case 'baja':\n        return 'priority-low';\n      default:\n        return '';\n    }\n  };\n\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleDateString('es-ES', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  if (loading && notifications.length === 0) {\n    return <LoadingSpinner message=\"Cargando notificaciones...\" />;\n  }\n\n  return (\n    <div className=\"notifications-container\">\n      <div className=\"notifications-header\">\n        <div className=\"header-content\">\n          <h1>\n            <Bell className=\"page-icon\" />\n            Notificaciones\n          </h1>\n          <div className=\"header-actions\">\n            <button \n              onClick={markAllAsRead}\n              className=\"btn btn-secondary\"\n              disabled={statistics.noLeidas === 0}\n            >\n              Marcar todas como leídas\n            </button>\n            <button onClick={exportNotifications} className=\"btn btn-primary\">\n              <Download size={16} />\n              Exportar\n            </button>\n          </div>\n        </div>\n\n        {/* Statistics */}\n        <div className=\"statistics-grid\">\n          <div className=\"stat-card\">\n            <div className=\"stat-value\">{statistics.total}</div>\n            <div className=\"stat-label\">Total</div>\n          </div>\n          <div className=\"stat-card\">\n            <div className=\"stat-value\">{statistics.noLeidas}</div>\n            <div className=\"stat-label\">No Leídas</div>\n          </div>\n          <div className=\"stat-card priority-high\">\n            <div className=\"stat-value\">{statistics.alta}</div>\n            <div className=\"stat-label\">Alta Prioridad</div>\n          </div>\n          <div className=\"stat-card priority-medium\">\n            <div className=\"stat-value\">{statistics.media}</div>\n            <div className=\"stat-label\">Media Prioridad</div>\n          </div>\n          <div className=\"stat-card priority-low\">\n            <div className=\"stat-value\">{statistics.baja}</div>\n            <div className=\"stat-label\">Baja Prioridad</div>\n          </div>\n        </div>\n      </div>\n\n      {/* Filters */}\n      <div className=\"filters-section\">\n        <div className=\"filters-header\">\n          <h3>\n            <Filter size={20} />\n            Filtros\n          </h3>\n          <button onClick={clearFilters} className=\"btn btn-outline\">\n            Limpiar Filtros\n          </button>\n        </div>\n\n        <div className=\"filters-grid\">\n          <div className=\"filter-group\">\n            <label>Tipo</label>\n            <select\n              value={filters.tipo}\n              onChange={(e) => handleFilterChange('tipo', e.target.value)}\n            >\n              <option value=\"\">Todos</option>\n              <option value=\"vencimiento\">Vencimiento</option>\n              <option value=\"inspeccion\">Inspección</option>\n              <option value=\"sistema\">Sistema</option>\n            </select>\n          </div>\n\n          <div className=\"filter-group\">\n            <label>Estado</label>\n            <select\n              value={filters.leida}\n              onChange={(e) => handleFilterChange('leida', e.target.value)}\n            >\n              <option value=\"\">Todas</option>\n              <option value=\"false\">No Leídas</option>\n              <option value=\"true\">Leídas</option>\n            </select>\n          </div>\n\n          <div className=\"filter-group\">\n            <label>Prioridad</label>\n            <select\n              value={filters.prioridad}\n              onChange={(e) => handleFilterChange('prioridad', e.target.value)}\n            >\n              <option value=\"\">Todas</option>\n              <option value=\"alta\">Alta</option>\n              <option value=\"media\">Media</option>\n              <option value=\"baja\">Baja</option>\n            </select>\n          </div>\n        </div>\n      </div>\n\n      {/* Notifications List */}\n      <div className=\"notifications-list\">\n        {notifications.length === 0 ? (\n          <div className=\"empty-state\">\n            <Bell size={48} />\n            <h3>No hay notificaciones</h3>\n            <p>No se encontraron notificaciones con los filtros aplicados.</p>\n          </div>\n        ) : (\n          <>\n            {notifications.map((notification) => (\n              <div \n                key={notification._id} \n                className={`notification-card ${!notification.leida ? 'unread' : ''} ${getPriorityClass(notification.prioridad)}`}\n              >\n                <div className=\"notification-content\">\n                  <div className=\"notification-header\">\n                    <div className=\"notification-title\">\n                      {getPriorityIcon(notification.prioridad)}\n                      <span>{notification.titulo}</span>\n                      {!notification.leida && <div className=\"unread-indicator\"></div>}\n                    </div>\n                    <div className=\"notification-date\">\n                      {formatDate(notification.fechaCreacion)}\n                    </div>\n                  </div>\n                  \n                  <div className=\"notification-message\">\n                    {notification.mensaje}\n                  </div>\n\n                  <div className=\"notification-meta\">\n                    <span className={`notification-type ${notification.tipo}`}>\n                      {notification.tipo}\n                    </span>\n                    <span className={`notification-priority ${notification.prioridad}`}>\n                      {notification.prioridad}\n                    </span>\n                  </div>\n                </div>\n\n                <div className=\"notification-actions\">\n                  <button\n                    onClick={() => handleViewDetails(notification)}\n                    className=\"btn btn-sm btn-outline\"\n                    title=\"Ver detalles\"\n                  >\n                    <Eye size={16} />\n                  </button>\n                  <button\n                    onClick={() => deleteNotification(notification._id)}\n                    className=\"btn btn-sm btn-danger\"\n                    title=\"Eliminar\"\n                  >\n                    <Trash2 size={16} />\n                  </button>\n                </div>\n              </div>\n            ))}\n\n            {/* Pagination */}\n            {pagination.totalPages > 1 && (\n              <div className=\"pagination\">\n                <button\n                  onClick={() => setPagination(prev => ({ ...prev, page: prev.page - 1 }))}\n                  disabled={pagination.page === 1}\n                  className=\"btn btn-outline\"\n                >\n                  Anterior\n                </button>\n                \n                <span className=\"pagination-info\">\n                  Página {pagination.page} de {pagination.totalPages}\n                </span>\n                \n                <button\n                  onClick={() => setPagination(prev => ({ ...prev, page: prev.page + 1 }))}\n                  disabled={pagination.page === pagination.totalPages}\n                  className=\"btn btn-outline\"\n                >\n                  Siguiente\n                </button>\n              </div>\n            )}\n          </>\n        )}\n      </div>\n\n      {/* Modal for notification details */}\n      {showModal && selectedNotification && (\n        <div className=\"modal-overlay\" onClick={() => setShowModal(false)}>\n          <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"modal-header\">\n              <h3>Detalles de la Notificación</h3>\n              <button \n                onClick={() => setShowModal(false)}\n                className=\"modal-close\"\n              >\n                ×\n              </button>\n            </div>\n            \n            <div className=\"modal-body\">\n              <div className=\"notification-detail\">\n                <div className=\"detail-row\">\n                  <strong>Título:</strong>\n                  <span>{selectedNotification.titulo}</span>\n                </div>\n                \n                <div className=\"detail-row\">\n                  <strong>Tipo:</strong>\n                  <span className={`notification-type ${selectedNotification.tipo}`}>\n                    {selectedNotification.tipo}\n                  </span>\n                </div>\n                \n                <div className=\"detail-row\">\n                  <strong>Prioridad:</strong>\n                  <span className={`notification-priority ${selectedNotification.prioridad}`}>\n                    {selectedNotification.prioridad}\n                  </span>\n                </div>\n                \n                <div className=\"detail-row\">\n                  <strong>Mensaje:</strong>\n                  <p>{selectedNotification.mensaje}</p>\n                </div>\n                \n                <div className=\"detail-row\">\n                  <strong>Fecha de Creación:</strong>\n                  <span>{formatDate(selectedNotification.fechaCreacion)}</span>\n                </div>\n                \n                {selectedNotification.fechaLectura && (\n                  <div className=\"detail-row\">\n                    <strong>Fecha de Lectura:</strong>\n                    <span>{formatDate(selectedNotification.fechaLectura)}</span>\n                  </div>\n                )}\n                \n                {selectedNotification.datos && (\n                  <div className=\"detail-row\">\n                    <strong>Datos Adicionales:</strong>\n                    <pre>{JSON.stringify(selectedNotification.datos, null, 2)}</pre>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <style jsx=\"true\">{`\n        .notifications-container {\n          padding: 20px;\n          max-width: 1200px;\n          margin: 0 auto;\n        }\n\n        .notifications-header {\n          margin-bottom: 30px;\n        }\n\n        .header-content {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 20px;\n        }\n\n        .header-content h1 {\n          display: flex;\n          align-items: center;\n          gap: 10px;\n          margin: 0;\n          color: #333;\n        }\n\n        .page-icon {\n          color: #007bff;\n        }\n\n        .header-actions {\n          display: flex;\n          gap: 10px;\n        }\n\n        .statistics-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n          gap: 15px;\n          margin-bottom: 20px;\n        }\n\n        .stat-card {\n          background: white;\n          padding: 20px;\n          border-radius: 8px;\n          box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n          text-align: center;\n          border-left: 4px solid #007bff;\n        }\n\n        .stat-card.priority-high {\n          border-left-color: #dc3545;\n        }\n\n        .stat-card.priority-medium {\n          border-left-color: #ffc107;\n        }\n\n        .stat-card.priority-low {\n          border-left-color: #28a745;\n        }\n\n        .stat-value {\n          font-size: 2rem;\n          font-weight: bold;\n          color: #333;\n        }\n\n        .stat-label {\n          color: #666;\n          font-size: 0.9rem;\n          margin-top: 5px;\n        }\n\n        .filters-section {\n          background: white;\n          padding: 20px;\n          border-radius: 8px;\n          box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n          margin-bottom: 20px;\n        }\n\n        .filters-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 15px;\n        }\n\n        .filters-header h3 {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          margin: 0;\n          color: #333;\n        }\n\n        .filters-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n          gap: 15px;\n        }\n\n        .filter-group {\n          display: flex;\n          flex-direction: column;\n        }\n\n        .filter-group label {\n          margin-bottom: 5px;\n          font-weight: 500;\n          color: #333;\n        }\n\n        .filter-group select {\n          padding: 8px 12px;\n          border: 1px solid #ddd;\n          border-radius: 4px;\n          font-size: 14px;\n        }\n\n        .notifications-list {\n          display: flex;\n          flex-direction: column;\n          gap: 15px;\n        }\n\n        .notification-card {\n          background: white;\n          border-radius: 8px;\n          box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n          padding: 20px;\n          display: flex;\n          justify-content: space-between;\n          align-items: flex-start;\n          transition: all 0.2s ease;\n          border-left: 4px solid #e9ecef;\n        }\n\n        .notification-card:hover {\n          box-shadow: 0 4px 8px rgba(0,0,0,0.15);\n        }\n\n        .notification-card.unread {\n          border-left-color: #007bff;\n          background: #f8f9ff;\n        }\n\n        .notification-card.priority-high {\n          border-left-color: #dc3545;\n        }\n\n        .notification-card.priority-medium {\n          border-left-color: #ffc107;\n        }\n\n        .notification-card.priority-low {\n          border-left-color: #28a745;\n        }\n\n        .notification-content {\n          flex: 1;\n        }\n\n        .notification-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: flex-start;\n          margin-bottom: 10px;\n        }\n\n        .notification-title {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          font-weight: 600;\n          color: #333;\n        }\n\n        .notification-priority-icon {\n          width: 18px;\n          height: 18px;\n        }\n\n        .notification-priority-icon.high {\n          color: #dc3545;\n        }\n\n        .notification-priority-icon.medium {\n          color: #ffc107;\n        }\n\n        .notification-priority-icon.low {\n          color: #28a745;\n        }\n\n        .unread-indicator {\n          width: 8px;\n          height: 8px;\n          background: #007bff;\n          border-radius: 50%;\n          margin-left: 5px;\n        }\n\n        .notification-date {\n          color: #666;\n          font-size: 0.9rem;\n        }\n\n        .notification-message {\n          color: #555;\n          margin-bottom: 10px;\n          line-height: 1.5;\n        }\n\n        .notification-meta {\n          display: flex;\n          gap: 10px;\n        }\n\n        .notification-type,\n        .notification-priority {\n          padding: 2px 8px;\n          border-radius: 12px;\n          font-size: 0.8rem;\n          font-weight: 500;\n        }\n\n        .notification-type.vencimiento {\n          background: #fff3cd;\n          color: #856404;\n        }\n\n        .notification-type.inspeccion {\n          background: #d1ecf1;\n          color: #0c5460;\n        }\n\n        .notification-type.sistema {\n          background: #d4edda;\n          color: #155724;\n        }\n\n        .notification-priority.alta {\n          background: #f8d7da;\n          color: #721c24;\n        }\n\n        .notification-priority.media {\n          background: #fff3cd;\n          color: #856404;\n        }\n\n        .notification-priority.baja {\n          background: #d4edda;\n          color: #155724;\n        }\n\n        .notification-actions {\n          display: flex;\n          gap: 5px;\n          margin-left: 15px;\n        }\n\n        .empty-state {\n          text-align: center;\n          padding: 60px 20px;\n          color: #666;\n        }\n\n        .empty-state svg {\n          color: #ccc;\n          margin-bottom: 20px;\n        }\n\n        .empty-state h3 {\n          margin-bottom: 10px;\n          color: #333;\n        }\n\n        .pagination {\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          gap: 15px;\n          margin-top: 30px;\n          padding: 20px;\n        }\n\n        .pagination-info {\n          color: #666;\n          font-size: 0.9rem;\n        }\n\n        .modal-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(0,0,0,0.5);\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          z-index: 1000;\n        }\n\n        .modal-content {\n          background: white;\n          border-radius: 8px;\n          width: 90%;\n          max-width: 600px;\n          max-height: 80vh;\n          overflow-y: auto;\n        }\n\n        .modal-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding: 20px;\n          border-bottom: 1px solid #eee;\n        }\n\n        .modal-header h3 {\n          margin: 0;\n          color: #333;\n        }\n\n        .modal-close {\n          background: none;\n          border: none;\n          font-size: 24px;\n          cursor: pointer;\n          color: #666;\n          padding: 0;\n          width: 30px;\n          height: 30px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        .modal-body {\n          padding: 20px;\n        }\n\n        .notification-detail {\n          display: flex;\n          flex-direction: column;\n          gap: 15px;\n        }\n\n        .detail-row {\n          display: flex;\n          flex-direction: column;\n          gap: 5px;\n        }\n\n        .detail-row strong {\n          color: #333;\n          font-weight: 600;\n        }\n\n        .detail-row pre {\n          background: #f8f9fa;\n          padding: 10px;\n          border-radius: 4px;\n          font-size: 0.9rem;\n          overflow-x: auto;\n        }\n\n        @media (max-width: 768px) {\n          .notifications-container {\n            padding: 15px;\n          }\n\n          .header-content {\n            flex-direction: column;\n            align-items: flex-start;\n            gap: 15px;\n          }\n\n          .header-actions {\n            width: 100%;\n            justify-content: flex-end;\n          }\n\n          .statistics-grid {\n            grid-template-columns: repeat(2, 1fr);\n          }\n\n          .filters-grid {\n            grid-template-columns: 1fr;\n          }\n\n          .notification-card {\n            flex-direction: column;\n            gap: 15px;\n          }\n\n          .notification-actions {\n            margin-left: 0;\n            align-self: flex-end;\n          }\n\n          .modal-content {\n            width: 95%;\n            margin: 20px;\n          }\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default Notifications;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AAC9D,SAASC,WAAW,QAAQ,yBAAyB;AACrD,OAAOC,cAAc,MAAM,8BAA8B;AACzD,SAASC,IAAI,QAAQ,cAAc;AACnC,OAAOC,KAAK,MAAM,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEpC,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC1B,MAAM;IAAEC;EAAM,CAAC,GAAGX,UAAU,CAACC,WAAW,CAAC;EACzC,MAAM,CAACW,aAAa,EAAEC,gBAAgB,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACgB,OAAO,EAAEC,UAAU,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;EAE5CC,SAAS,CAAC,MAAM;IACd,MAAMiB,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI,CAACL,KAAK,EAAE;QACVP,KAAK,CAACa,KAAK,CAAC,+BAA+B,CAAC;QAC5CF,UAAU,CAAC,KAAK,CAAC;QACjB;MACF;MAEA,IAAI;QACF,MAAMG,QAAQ,GAAG,MAAMC,KAAK,CAAC,oCAAoC,EAAE;UACjEC,OAAO,EAAE;YACP,eAAe,EAAE,UAAUT,KAAK,EAAE;YAClC,cAAc,EAAE;UAClB;QACF,CAAC,CAAC;QAEF,IAAIO,QAAQ,CAACG,EAAE,EAAE;UACf,MAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;UAClCV,gBAAgB,CAACS,IAAI,CAACV,aAAa,IAAI,EAAE,CAAC;UAC1CR,KAAK,CAACoB,OAAO,CAAC,uCAAuC,CAAC;QACxD,CAAC,MAAM;UACL,MAAMC,SAAS,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;UACvCtB,KAAK,CAACa,KAAK,CAAC,UAAUC,QAAQ,CAACS,MAAM,MAAMF,SAAS,EAAE,CAAC;QACzD;MACF,CAAC,CAAC,OAAOR,KAAK,EAAE;QACdb,KAAK,CAACa,KAAK,CAAC,sBAAsBA,KAAK,CAACW,OAAO,EAAE,CAAC;MACpD,CAAC,SAAS;QACRb,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAEDC,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,CAACL,KAAK,CAAC,CAAC;EAEX,MAAMkB,UAAU,GAAG,MAAOC,cAAc,IAAK;IAC3C,IAAI;MACF,MAAMZ,QAAQ,GAAG,MAAMC,KAAK,CAAC,sBAAsBW,cAAc,OAAO,EAAE;QACxEC,MAAM,EAAE,KAAK;QACbX,OAAO,EAAE;UACP,eAAe,EAAE,UAAUT,KAAK,EAAE;UAClC,cAAc,EAAE;QAClB;MACF,CAAC,CAAC;MAEF,IAAIO,QAAQ,CAACG,EAAE,EAAE;QACfR,gBAAgB,CAACmB,IAAI,IACnBA,IAAI,CAACC,GAAG,CAACC,KAAK,IACZA,KAAK,CAACC,GAAG,KAAKL,cAAc,GACxB;UAAE,GAAGI,KAAK;UAAEE,KAAK,EAAE,IAAI;UAAEC,YAAY,EAAE,IAAIC,IAAI,CAAC;QAAE,CAAC,GACnDJ,KACN,CACF,CAAC;QACDK,eAAe,CAAC,CAAC;QACjBnC,KAAK,CAACoB,OAAO,CAAC,iCAAiC,CAAC;MAClD,CAAC,MAAM;QACLpB,KAAK,CAACa,KAAK,CAAC,4BAA4B,CAAC;MAC3C;IACF,CAAC,CAAC,OAAOA,KAAK,EAAE;MACduB,OAAO,CAACvB,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAC9Cb,KAAK,CAACa,KAAK,CAAC,4BAA4B,CAAC;IAC3C;EACF,CAAC;EAED,MAAMwB,aAAa,GAAG,MAAAA,CAAA,KAAY;IAChC,IAAI;MACF,MAAMvB,QAAQ,GAAG,MAAMC,KAAK,CAAC,kCAAkC,EAAE;QAC/DY,MAAM,EAAE,KAAK;QACbX,OAAO,EAAE;UACP,eAAe,EAAE,UAAUT,KAAK,EAAE;UAClC,cAAc,EAAE;QAClB;MACF,CAAC,CAAC;MAEF,IAAIO,QAAQ,CAACG,EAAE,EAAE;QACfR,gBAAgB,CAACmB,IAAI,IACnBA,IAAI,CAACC,GAAG,CAACC,KAAK,KAAK;UACjB,GAAGA,KAAK;UACRE,KAAK,EAAE,IAAI;UACXC,YAAY,EAAE,IAAIC,IAAI,CAAC;QACzB,CAAC,CAAC,CACJ,CAAC;QACDC,eAAe,CAAC,CAAC;QACjBnC,KAAK,CAACoB,OAAO,CAAC,+CAA+C,CAAC;MAChE,CAAC,MAAM;QACLpB,KAAK,CAACa,KAAK,CAAC,mCAAmC,CAAC;MAClD;IACF,CAAC,CAAC,OAAOA,KAAK,EAAE;MACduB,OAAO,CAACvB,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MAClDb,KAAK,CAACa,KAAK,CAAC,mCAAmC,CAAC;IAClD;EACF,CAAC;EAED,MAAMyB,kBAAkB,GAAG,MAAOZ,cAAc,IAAK;IACnD,IAAI,CAACa,MAAM,CAACC,OAAO,CAAC,uDAAuD,CAAC,EAAE;MAC5E;IACF;IAEA,IAAI;MACF,MAAM1B,QAAQ,GAAG,MAAMC,KAAK,CAAC,sBAAsBW,cAAc,EAAE,EAAE;QACnEC,MAAM,EAAE,QAAQ;QAChBX,OAAO,EAAE;UACP,eAAe,EAAE,UAAUT,KAAK,EAAE;UAClC,cAAc,EAAE;QAClB;MACF,CAAC,CAAC;MAEF,IAAIO,QAAQ,CAACG,EAAE,EAAE;QACfR,gBAAgB,CAACmB,IAAI,IAAIA,IAAI,CAACa,MAAM,CAACX,KAAK,IAAIA,KAAK,CAACC,GAAG,KAAKL,cAAc,CAAC,CAAC;QAC5ES,eAAe,CAAC,CAAC;QACjBnC,KAAK,CAACoB,OAAO,CAAC,wBAAwB,CAAC;MACzC,CAAC,MAAM;QACLpB,KAAK,CAACa,KAAK,CAAC,mCAAmC,CAAC;MAClD;IACF,CAAC,CAAC,OAAOA,KAAK,EAAE;MACduB,OAAO,CAACvB,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;MACpDb,KAAK,CAACa,KAAK,CAAC,mCAAmC,CAAC;IAClD;EACF,CAAC;EAED,MAAM6B,iBAAiB,GAAIC,YAAY,IAAK;IAC1CC,uBAAuB,CAACD,YAAY,CAAC;IACrCE,YAAY,CAAC,IAAI,CAAC;IAClB,IAAI,CAACF,YAAY,CAACX,KAAK,EAAE;MACvBP,UAAU,CAACkB,YAAY,CAACZ,GAAG,CAAC;IAC9B;EACF,CAAC;EAED,MAAMe,kBAAkB,GAAGA,CAACC,KAAK,EAAEC,KAAK,KAAK;IAC3CC,UAAU,CAACrB,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAE,CAACmB,KAAK,GAAGC;IAAM,CAAC,CAAC,CAAC;IACjDE,aAAa,CAACtB,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAEuB,IAAI,EAAE;IAAE,CAAC,CAAC,CAAC;EAC/C,CAAC;EAED,MAAMC,YAAY,GAAGA,CAAA,KAAM;IACzBH,UAAU,CAAC;MACTI,IAAI,EAAE,EAAE;MACRrB,KAAK,EAAE,EAAE;MACTsB,SAAS,EAAE;IACb,CAAC,CAAC;IACFJ,aAAa,CAACtB,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAEuB,IAAI,EAAE;IAAE,CAAC,CAAC,CAAC;EAC/C,CAAC;EAED,MAAMI,mBAAmB,GAAG,MAAAA,CAAA,KAAY;IACtC,IAAI;MACF,MAAMC,WAAW,GAAG,IAAIC,eAAe,CAAC;QACtC,GAAGC,MAAM,CAACC,WAAW,CAACD,MAAM,CAACE,OAAO,CAACC,OAAO,CAAC,CAACpB,MAAM,CAAC,CAAC,CAACqB,CAAC,EAAEC,CAAC,CAAC,KAAKA,CAAC,KAAK,EAAE,CAAC;MAC5E,CAAC,CAAC;MAEF,MAAMjD,QAAQ,GAAG,MAAMC,KAAK,CAAC,6BAA6ByC,WAAW,EAAE,EAAE;QACvExC,OAAO,EAAE;UACP,eAAe,EAAE,UAAUT,KAAK;QAClC;MACF,CAAC,CAAC;MAEF,IAAIO,QAAQ,CAACG,EAAE,EAAE;QACf,MAAM+C,IAAI,GAAG,MAAMlD,QAAQ,CAACkD,IAAI,CAAC,CAAC;QAClC,MAAMC,GAAG,GAAG1B,MAAM,CAAC2B,GAAG,CAACC,eAAe,CAACH,IAAI,CAAC;QAC5C,MAAMI,CAAC,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;QACrCF,CAAC,CAACG,KAAK,CAACC,OAAO,GAAG,MAAM;QACxBJ,CAAC,CAACK,IAAI,GAAGR,GAAG;QACZG,CAAC,CAACM,QAAQ,GAAG,kBAAkB,IAAIxC,IAAI,CAAC,CAAC,CAACyC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO;QAC5EP,QAAQ,CAACQ,IAAI,CAACC,WAAW,CAACV,CAAC,CAAC;QAC5BA,CAAC,CAACW,KAAK,CAAC,CAAC;QACTxC,MAAM,CAAC2B,GAAG,CAACc,eAAe,CAACf,GAAG,CAAC;QAC/BjE,KAAK,CAACoB,OAAO,CAAC,wCAAwC,CAAC;MACzD,CAAC,MAAM;QACLpB,KAAK,CAACa,KAAK,CAAC,sCAAsC,CAAC;MACrD;IACF,CAAC,CAAC,OAAOA,KAAK,EAAE;MACduB,OAAO,CAACvB,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;MACtDb,KAAK,CAACa,KAAK,CAAC,sCAAsC,CAAC;IACrD;EACF,CAAC;EAED,MAAMoE,eAAe,GAAIC,QAAQ,IAAK;IACpC,QAAQA,QAAQ;MACd,KAAK,MAAM;QACT,oBAAOhF,OAAA,CAACiF,aAAa;UAACC,SAAS,EAAC;QAAiC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MACtE,KAAK,OAAO;QACV,oBAAOtF,OAAA,CAACuF,KAAK;UAACL,SAAS,EAAC;QAAmC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAChE,KAAK,MAAM;QACT,oBAAOtF,OAAA,CAACwF,WAAW;UAACN,SAAS,EAAC;QAAgC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MACnE;QACE,oBAAOtF,OAAA,CAACH,IAAI;UAACqF,SAAS,EAAC;QAA4B;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;IAC1D;EACF,CAAC;EAED,MAAMG,gBAAgB,GAAIT,QAAQ,IAAK;IACrC,QAAQA,QAAQ;MACd,KAAK,MAAM;QACT,OAAO,eAAe;MACxB,KAAK,OAAO;QACV,OAAO,iBAAiB;MAC1B,KAAK,MAAM;QACT,OAAO,cAAc;MACvB;QACE,OAAO,EAAE;IACb;EACF,CAAC;EAED,MAAMU,UAAU,GAAIC,UAAU,IAAK;IACjC,OAAO,IAAI3D,IAAI,CAAC2D,UAAU,CAAC,CAACC,kBAAkB,CAAC,OAAO,EAAE;MACtDC,IAAI,EAAE,SAAS;MACfC,KAAK,EAAE,OAAO;MACdC,GAAG,EAAE,SAAS;MACdC,IAAI,EAAE,SAAS;MACfC,MAAM,EAAE;IACV,CAAC,CAAC;EACJ,CAAC;EAED,IAAIzF,OAAO,IAAIF,aAAa,CAAC4F,MAAM,KAAK,CAAC,EAAE;IACzC,oBAAOlG,OAAA,CAACJ,cAAc;MAAC0B,OAAO,EAAC;IAA4B;MAAA6D,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAChE;EAEA,oBACEtF,OAAA;IAAKkF,SAAS,EAAC,yBAAyB;IAAAiB,QAAA,gBACtCnG,OAAA;MAAKkF,SAAS,EAAC,sBAAsB;MAAAiB,QAAA,gBACnCnG,OAAA;QAAKkF,SAAS,EAAC,gBAAgB;QAAAiB,QAAA,gBAC7BnG,OAAA;UAAAmG,QAAA,gBACEnG,OAAA,CAACH,IAAI;YAACqF,SAAS,EAAC;UAAW;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,kBAEhC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACLtF,OAAA;UAAKkF,SAAS,EAAC,gBAAgB;UAAAiB,QAAA,gBAC7BnG,OAAA;YACEoG,OAAO,EAAEjE,aAAc;YACvB+C,SAAS,EAAC,mBAAmB;YAC7BmB,QAAQ,EAAEC,UAAU,CAACC,QAAQ,KAAK,CAAE;YAAAJ,QAAA,EACrC;UAED;YAAAhB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACTtF,OAAA;YAAQoG,OAAO,EAAE/C,mBAAoB;YAAC6B,SAAS,EAAC,iBAAiB;YAAAiB,QAAA,gBAC/DnG,OAAA,CAACwG,QAAQ;cAACC,IAAI,EAAE;YAAG;cAAAtB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,YAExB;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAGNtF,OAAA;QAAKkF,SAAS,EAAC,iBAAiB;QAAAiB,QAAA,gBAC9BnG,OAAA;UAAKkF,SAAS,EAAC,WAAW;UAAAiB,QAAA,gBACxBnG,OAAA;YAAKkF,SAAS,EAAC,YAAY;YAAAiB,QAAA,EAAEG,UAAU,CAACI;UAAK;YAAAvB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACpDtF,OAAA;YAAKkF,SAAS,EAAC,YAAY;YAAAiB,QAAA,EAAC;UAAK;YAAAhB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpC,CAAC,eACNtF,OAAA;UAAKkF,SAAS,EAAC,WAAW;UAAAiB,QAAA,gBACxBnG,OAAA;YAAKkF,SAAS,EAAC,YAAY;YAAAiB,QAAA,EAAEG,UAAU,CAACC;UAAQ;YAAApB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACvDtF,OAAA;YAAKkF,SAAS,EAAC,YAAY;YAAAiB,QAAA,EAAC;UAAS;YAAAhB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxC,CAAC,eACNtF,OAAA;UAAKkF,SAAS,EAAC,yBAAyB;UAAAiB,QAAA,gBACtCnG,OAAA;YAAKkF,SAAS,EAAC,YAAY;YAAAiB,QAAA,EAAEG,UAAU,CAACK;UAAI;YAAAxB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACnDtF,OAAA;YAAKkF,SAAS,EAAC,YAAY;YAAAiB,QAAA,EAAC;UAAc;YAAAhB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7C,CAAC,eACNtF,OAAA;UAAKkF,SAAS,EAAC,2BAA2B;UAAAiB,QAAA,gBACxCnG,OAAA;YAAKkF,SAAS,EAAC,YAAY;YAAAiB,QAAA,EAAEG,UAAU,CAACM;UAAK;YAAAzB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACpDtF,OAAA;YAAKkF,SAAS,EAAC,YAAY;YAAAiB,QAAA,EAAC;UAAe;YAAAhB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9C,CAAC,eACNtF,OAAA;UAAKkF,SAAS,EAAC,wBAAwB;UAAAiB,QAAA,gBACrCnG,OAAA;YAAKkF,SAAS,EAAC,YAAY;YAAAiB,QAAA,EAAEG,UAAU,CAACO;UAAI;YAAA1B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACnDtF,OAAA;YAAKkF,SAAS,EAAC,YAAY;YAAAiB,QAAA,EAAC;UAAc;YAAAhB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7C,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGNtF,OAAA;MAAKkF,SAAS,EAAC,iBAAiB;MAAAiB,QAAA,gBAC9BnG,OAAA;QAAKkF,SAAS,EAAC,gBAAgB;QAAAiB,QAAA,gBAC7BnG,OAAA;UAAAmG,QAAA,gBACEnG,OAAA,CAAC8G,MAAM;YAACL,IAAI,EAAE;UAAG;YAAAtB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,WAEtB;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACLtF,OAAA;UAAQoG,OAAO,EAAElD,YAAa;UAACgC,SAAS,EAAC,iBAAiB;UAAAiB,QAAA,EAAC;QAE3D;UAAAhB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eAENtF,OAAA;QAAKkF,SAAS,EAAC,cAAc;QAAAiB,QAAA,gBAC3BnG,OAAA;UAAKkF,SAAS,EAAC,cAAc;UAAAiB,QAAA,gBAC3BnG,OAAA;YAAAmG,QAAA,EAAO;UAAI;YAAAhB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACnBtF,OAAA;YACE8C,KAAK,EAAEa,OAAO,CAACR,IAAK;YACpB4D,QAAQ,EAAGC,CAAC,IAAKpE,kBAAkB,CAAC,MAAM,EAAEoE,CAAC,CAACC,MAAM,CAACnE,KAAK,CAAE;YAAAqD,QAAA,gBAE5DnG,OAAA;cAAQ8C,KAAK,EAAC,EAAE;cAAAqD,QAAA,EAAC;YAAK;cAAAhB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAC/BtF,OAAA;cAAQ8C,KAAK,EAAC,aAAa;cAAAqD,QAAA,EAAC;YAAW;cAAAhB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAChDtF,OAAA;cAAQ8C,KAAK,EAAC,YAAY;cAAAqD,QAAA,EAAC;YAAU;cAAAhB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAC9CtF,OAAA;cAAQ8C,KAAK,EAAC,SAAS;cAAAqD,QAAA,EAAC;YAAO;cAAAhB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eAENtF,OAAA;UAAKkF,SAAS,EAAC,cAAc;UAAAiB,QAAA,gBAC3BnG,OAAA;YAAAmG,QAAA,EAAO;UAAM;YAAAhB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACrBtF,OAAA;YACE8C,KAAK,EAAEa,OAAO,CAAC7B,KAAM;YACrBiF,QAAQ,EAAGC,CAAC,IAAKpE,kBAAkB,CAAC,OAAO,EAAEoE,CAAC,CAACC,MAAM,CAACnE,KAAK,CAAE;YAAAqD,QAAA,gBAE7DnG,OAAA;cAAQ8C,KAAK,EAAC,EAAE;cAAAqD,QAAA,EAAC;YAAK;cAAAhB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAC/BtF,OAAA;cAAQ8C,KAAK,EAAC,OAAO;cAAAqD,QAAA,EAAC;YAAS;cAAAhB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACxCtF,OAAA;cAAQ8C,KAAK,EAAC,MAAM;cAAAqD,QAAA,EAAC;YAAM;cAAAhB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9B,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eAENtF,OAAA;UAAKkF,SAAS,EAAC,cAAc;UAAAiB,QAAA,gBAC3BnG,OAAA;YAAAmG,QAAA,EAAO;UAAS;YAAAhB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACxBtF,OAAA;YACE8C,KAAK,EAAEa,OAAO,CAACP,SAAU;YACzB2D,QAAQ,EAAGC,CAAC,IAAKpE,kBAAkB,CAAC,WAAW,EAAEoE,CAAC,CAACC,MAAM,CAACnE,KAAK,CAAE;YAAAqD,QAAA,gBAEjEnG,OAAA;cAAQ8C,KAAK,EAAC,EAAE;cAAAqD,QAAA,EAAC;YAAK;cAAAhB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAC/BtF,OAAA;cAAQ8C,KAAK,EAAC,MAAM;cAAAqD,QAAA,EAAC;YAAI;cAAAhB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAClCtF,OAAA;cAAQ8C,KAAK,EAAC,OAAO;cAAAqD,QAAA,EAAC;YAAK;cAAAhB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACpCtF,OAAA;cAAQ8C,KAAK,EAAC,MAAM;cAAAqD,QAAA,EAAC;YAAI;cAAAhB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5B,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGNtF,OAAA;MAAKkF,SAAS,EAAC,oBAAoB;MAAAiB,QAAA,EAChC7F,aAAa,CAAC4F,MAAM,KAAK,CAAC,gBACzBlG,OAAA;QAAKkF,SAAS,EAAC,aAAa;QAAAiB,QAAA,gBAC1BnG,OAAA,CAACH,IAAI;UAAC4G,IAAI,EAAE;QAAG;UAAAtB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAClBtF,OAAA;UAAAmG,QAAA,EAAI;QAAqB;UAAAhB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC9BtF,OAAA;UAAAmG,QAAA,EAAG;QAA2D;UAAAhB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC/D,CAAC,gBAENtF,OAAA,CAAAE,SAAA;QAAAiG,QAAA,GACG7F,aAAa,CAACqB,GAAG,CAAEc,YAAY,iBAC9BzC,OAAA;UAEEkF,SAAS,EAAE,qBAAqB,CAACzC,YAAY,CAACX,KAAK,GAAG,QAAQ,GAAG,EAAE,IAAI2D,gBAAgB,CAAChD,YAAY,CAACW,SAAS,CAAC,EAAG;UAAA+C,QAAA,gBAElHnG,OAAA;YAAKkF,SAAS,EAAC,sBAAsB;YAAAiB,QAAA,gBACnCnG,OAAA;cAAKkF,SAAS,EAAC,qBAAqB;cAAAiB,QAAA,gBAClCnG,OAAA;gBAAKkF,SAAS,EAAC,oBAAoB;gBAAAiB,QAAA,GAChCpB,eAAe,CAACtC,YAAY,CAACW,SAAS,CAAC,eACxCpD,OAAA;kBAAAmG,QAAA,EAAO1D,YAAY,CAACyE;gBAAM;kBAAA/B,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,EACjC,CAAC7C,YAAY,CAACX,KAAK,iBAAI9B,OAAA;kBAAKkF,SAAS,EAAC;gBAAkB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC7D,CAAC,eACNtF,OAAA;gBAAKkF,SAAS,EAAC,mBAAmB;gBAAAiB,QAAA,EAC/BT,UAAU,CAACjD,YAAY,CAAC0E,aAAa;cAAC;gBAAAhC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACpC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eAENtF,OAAA;cAAKkF,SAAS,EAAC,sBAAsB;cAAAiB,QAAA,EAClC1D,YAAY,CAAC2E;YAAO;cAAAjC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAClB,CAAC,eAENtF,OAAA;cAAKkF,SAAS,EAAC,mBAAmB;cAAAiB,QAAA,gBAChCnG,OAAA;gBAAMkF,SAAS,EAAE,qBAAqBzC,YAAY,CAACU,IAAI,EAAG;gBAAAgD,QAAA,EACvD1D,YAAY,CAACU;cAAI;gBAAAgC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACd,CAAC,eACPtF,OAAA;gBAAMkF,SAAS,EAAE,yBAAyBzC,YAAY,CAACW,SAAS,EAAG;gBAAA+C,QAAA,EAChE1D,YAAY,CAACW;cAAS;gBAAA+B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnB,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACJ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAENtF,OAAA;YAAKkF,SAAS,EAAC,sBAAsB;YAAAiB,QAAA,gBACnCnG,OAAA;cACEoG,OAAO,EAAEA,CAAA,KAAM5D,iBAAiB,CAACC,YAAY,CAAE;cAC/CyC,SAAS,EAAC,wBAAwB;cAClCmC,KAAK,EAAC,cAAc;cAAAlB,QAAA,eAEpBnG,OAAA,CAACsH,GAAG;gBAACb,IAAI,EAAE;cAAG;gBAAAtB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACX,CAAC,eACTtF,OAAA;cACEoG,OAAO,EAAEA,CAAA,KAAMhE,kBAAkB,CAACK,YAAY,CAACZ,GAAG,CAAE;cACpDqD,SAAS,EAAC,uBAAuB;cACjCmC,KAAK,EAAC,UAAU;cAAAlB,QAAA,eAEhBnG,OAAA,CAACuH,MAAM;gBAACd,IAAI,EAAE;cAAG;gBAAAtB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACd,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA,GA5CD7C,YAAY,CAACZ,GAAG;UAAAsD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OA6ClB,CACN,CAAC,EAGDkC,UAAU,CAACC,UAAU,GAAG,CAAC,iBACxBzH,OAAA;UAAKkF,SAAS,EAAC,YAAY;UAAAiB,QAAA,gBACzBnG,OAAA;YACEoG,OAAO,EAAEA,CAAA,KAAMpD,aAAa,CAACtB,IAAI,KAAK;cAAE,GAAGA,IAAI;cAAEuB,IAAI,EAAEvB,IAAI,CAACuB,IAAI,GAAG;YAAE,CAAC,CAAC,CAAE;YACzEoD,QAAQ,EAAEmB,UAAU,CAACvE,IAAI,KAAK,CAAE;YAChCiC,SAAS,EAAC,iBAAiB;YAAAiB,QAAA,EAC5B;UAED;YAAAhB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAETtF,OAAA;YAAMkF,SAAS,EAAC,iBAAiB;YAAAiB,QAAA,GAAC,YACzB,EAACqB,UAAU,CAACvE,IAAI,EAAC,MAAI,EAACuE,UAAU,CAACC,UAAU;UAAA;YAAAtC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9C,CAAC,eAEPtF,OAAA;YACEoG,OAAO,EAAEA,CAAA,KAAMpD,aAAa,CAACtB,IAAI,KAAK;cAAE,GAAGA,IAAI;cAAEuB,IAAI,EAAEvB,IAAI,CAACuB,IAAI,GAAG;YAAE,CAAC,CAAC,CAAE;YACzEoD,QAAQ,EAAEmB,UAAU,CAACvE,IAAI,KAAKuE,UAAU,CAACC,UAAW;YACpDvC,SAAS,EAAC,iBAAiB;YAAAiB,QAAA,EAC5B;UAED;YAAAhB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CACN;MAAA,eACD;IACH;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,EAGLoC,SAAS,IAAIC,oBAAoB,iBAChC3H,OAAA;MAAKkF,SAAS,EAAC,eAAe;MAACkB,OAAO,EAAEA,CAAA,KAAMzD,YAAY,CAAC,KAAK,CAAE;MAAAwD,QAAA,eAChEnG,OAAA;QAAKkF,SAAS,EAAC,eAAe;QAACkB,OAAO,EAAGY,CAAC,IAAKA,CAAC,CAACY,eAAe,CAAC,CAAE;QAAAzB,QAAA,gBACjEnG,OAAA;UAAKkF,SAAS,EAAC,cAAc;UAAAiB,QAAA,gBAC3BnG,OAAA;YAAAmG,QAAA,EAAI;UAA2B;YAAAhB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACpCtF,OAAA;YACEoG,OAAO,EAAEA,CAAA,KAAMzD,YAAY,CAAC,KAAK,CAAE;YACnCuC,SAAS,EAAC,aAAa;YAAAiB,QAAA,EACxB;UAED;YAAAhB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eAENtF,OAAA;UAAKkF,SAAS,EAAC,YAAY;UAAAiB,QAAA,eACzBnG,OAAA;YAAKkF,SAAS,EAAC,qBAAqB;YAAAiB,QAAA,gBAClCnG,OAAA;cAAKkF,SAAS,EAAC,YAAY;cAAAiB,QAAA,gBACzBnG,OAAA;gBAAAmG,QAAA,EAAQ;cAAO;gBAAAhB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACxBtF,OAAA;gBAAAmG,QAAA,EAAOwB,oBAAoB,CAACT;cAAM;gBAAA/B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACvC,CAAC,eAENtF,OAAA;cAAKkF,SAAS,EAAC,YAAY;cAAAiB,QAAA,gBACzBnG,OAAA;gBAAAmG,QAAA,EAAQ;cAAK;gBAAAhB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACtBtF,OAAA;gBAAMkF,SAAS,EAAE,qBAAqByC,oBAAoB,CAACxE,IAAI,EAAG;gBAAAgD,QAAA,EAC/DwB,oBAAoB,CAACxE;cAAI;gBAAAgC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtB,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACJ,CAAC,eAENtF,OAAA;cAAKkF,SAAS,EAAC,YAAY;cAAAiB,QAAA,gBACzBnG,OAAA;gBAAAmG,QAAA,EAAQ;cAAU;gBAAAhB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eAC3BtF,OAAA;gBAAMkF,SAAS,EAAE,yBAAyByC,oBAAoB,CAACvE,SAAS,EAAG;gBAAA+C,QAAA,EACxEwB,oBAAoB,CAACvE;cAAS;gBAAA+B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3B,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACJ,CAAC,eAENtF,OAAA;cAAKkF,SAAS,EAAC,YAAY;cAAAiB,QAAA,gBACzBnG,OAAA;gBAAAmG,QAAA,EAAQ;cAAQ;gBAAAhB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACzBtF,OAAA;gBAAAmG,QAAA,EAAIwB,oBAAoB,CAACP;cAAO;gBAAAjC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAClC,CAAC,eAENtF,OAAA;cAAKkF,SAAS,EAAC,YAAY;cAAAiB,QAAA,gBACzBnG,OAAA;gBAAAmG,QAAA,EAAQ;cAAkB;gBAAAhB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACnCtF,OAAA;gBAAAmG,QAAA,EAAOT,UAAU,CAACiC,oBAAoB,CAACR,aAAa;cAAC;gBAAAhC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC1D,CAAC,EAELqC,oBAAoB,CAAC5F,YAAY,iBAChC/B,OAAA;cAAKkF,SAAS,EAAC,YAAY;cAAAiB,QAAA,gBACzBnG,OAAA;gBAAAmG,QAAA,EAAQ;cAAiB;gBAAAhB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eAClCtF,OAAA;gBAAAmG,QAAA,EAAOT,UAAU,CAACiC,oBAAoB,CAAC5F,YAAY;cAAC;gBAAAoD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzD,CACN,EAEAqC,oBAAoB,CAACE,KAAK,iBACzB7H,OAAA;cAAKkF,SAAS,EAAC,YAAY;cAAAiB,QAAA,gBACzBnG,OAAA;gBAAAmG,QAAA,EAAQ;cAAkB;gBAAAhB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACnCtF,OAAA;gBAAAmG,QAAA,EAAM2B,IAAI,CAACC,SAAS,CAACJ,oBAAoB,CAACE,KAAK,EAAE,IAAI,EAAE,CAAC;cAAC;gBAAA1C,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7D,CACN;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,eAEDtF,OAAA;MAAOgI,GAAG,EAAC,MAAM;MAAA7B,QAAA,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAAO;MAAAhB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACP,CAAC;AAEV,CAAC;AAAClF,EAAA,CAt3BID,aAAa;AAAA8H,EAAA,GAAb9H,aAAa;AAw3BnB,eAAeA,aAAa;AAAC,IAAA8H,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}